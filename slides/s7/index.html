<!DOCTYPE html>
<html lang="ru">
<head>
	<title>Современное состояние JavaScript</title>
	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<script>
		'use strict';

		const gcd = (a, b) => (b === 0) ? a : gcd(b, a % b);
		const w = screen.width;
		const h = screen.height;
		const r = gcd(w, h);

		console.log(`${w}x${h}`);
		let aspect = `${w / r}x${h / r}`;
		console.log(aspect);

		const ratios = ['8x5', '4x3', '6x5', '5x3', '5x4', '16x9'];
		if (!ratios.includes(aspect)) {
			aspect = ratios[0];
		}

		document.write(`<link rel="stylesheet" href="/lib/shower/themes/technopark/styles/screen-${aspect}.css">`);

	</script>

	<style>
		.slide pre {
			font-size: 80%;
		}
	</style>

	<link rel="stylesheet" href="/lib/hljs/styles/github.css">

</head>
<body class="shower list">

	<header class="caption">
		<h1>Современное состояние JavaScript</h1>
		<p>Технопарк, 2017 г.</p>
	</header>

	<section class="slide">
		<h2 class="shout">Развитие JavaScript<br/>
			<small style="font-size:32px;">Слайды доступны по ссылке <a href="http://frontend.tech-mail.ru/">frontend.tech-mail.ru</a></small>
		</h2>
	</section>

	<section class="slide question">
		<h2 style="text-align: center; padding: 0"><span style="font-size: 80%">ISO/IEC 16262:2011(E)</span></h2>
	</section>

	<section class="slide question">
		<h2 style="text-align: center; padding: 0"><span style="font-size: 100%">ECMA-262</span></h2>
	</section>

	<section class="slide question">
		<h2 style="text-align: center; padding: 0"><span style="font-size: 100%">ECMAScript</span></h2>
	</section>

	<section class="slide">
		<h2>Что есть JavaScript?</h2>
		<ul lang="ru">
			<li>ECMAScript &mdash; язык программирования</li>
			<li>JavaScript &mdash; язык программирования (коммерческое название)</li>
			<li>ECMA-262 &mdash; спецификация ECMAScript (<a href="https://www.ecma-international.org/ecma-262/7.0/index.html" target="_blank">последняя версия</a>: 7th издание в июле 2016 года, <a href="https://tc39.github.io/ecma262/" target="_blank">последний черновик</a>: ECMAScript® 2017 Language Specification)
			</li>
			<li>ISO/IEC 16262:2011(E) &mdash; international standard</li>
		</ul>
	</section>

	<section class="slide">
		<h2>Как это было</h2>
		<ul lang="en">
			<li><strong>Brendan Eich</strong> разработал прототип языка в мае 1995 за 10 дней, тогда он назывался <strong>Mocha</strong></li>
			<li>В <strong>сентябре 1995</strong> в бета-версии браузера Netscape Navigator 2.0 он был выпущен под названием LiveScript</li>
			<li>В декабре его переименовали в <strong>JavaScript</strong></li>
			<li>Июнь 1997 &mdash; организация <strong>Ecma International</strong> выпустила первую версию стандарта ECMA-262, в котором описывала спецификацию ECMAScript</li>
			<li>Июнь 1998 &mdash; спецификация <strong>ECMAScript 2</strong> и международный стандарт <strong>ISO/IEC 16262</strong></li>
		</ul>
	</section>

	<section class="slide">
		<h2>Как это было</h2>
		<ul lang="en">
			<li>2003 &mdash; <mark>ECMAScript 4</mark> (ActionScript)</li>
			<li>Декабрь 2009 &mdash; <mark>ECMAScript 5</mark></li>
			<li>Июнь 2011 &mdash; <mark>ECMAScript 5.1</mark>, ISO/IEC 16262:2011</li>
			<li>Июнь 2015 &mdash; <mark>ECMAScript 2015</mark> (ES6 Harmony) === ES6</li>
			<li>...</li>
			<li>Июнь 2016 &mdash; <mark>ECMAScript 2016</mark></li>
			<li>Лето 2017 года &mdash; <mark>ECMAScript 2017</mark></li>
			<li>...</li>
		</ul>
	</section>

	<section class="slide">
		<h2>Современное состояние JavaScript</h2>
		<ul lang="ru">
			<li>ES6-модули</li>
			<li>ES6-классы</li>
			<li>Стрелочные функции</li>
			<li>Деструктуризация</li>
			<li>Спреды</li>
			<li>Итераторы</li>
			<li>Генераторы</li>
			<li>Aсинхронные функции</li>
			<li><em>and more...</em></li>
		</ul>
	</section>

	<section class="slide question">
		<h2 style="text-align: center; padding: 0"><span style="font-size: 100%">Определение переменных</span></h2>
	</section>

	<section class="slide question">
		<h2 style="text-align: center; padding: 0"><span style="font-size: 100%">Строки</span></h2>
	</section>

	<section class="slide question">
		<h2 style="text-align: center; padding: 0"><span style="font-size: 100%">Промисы</span></h2>
	</section>

	<section class="slide question">
		<h2 style="text-align: center; padding: 0"><span style="font-size: 100%">ES6-классы</span></h2>
	</section>

	<section class="slide question">
		<h2 style="text-align: center; padding: 0"><span style="font-size: 100%">ES6-модули</span></h2>
	</section>

	<section class="slide question">
		<h2 style="text-align: center; padding: 0"><span style="font-size: 100%">Стрелочные функции</span></h2>
	</section>

	<section class="slide question">
		<h2 style="text-align: center; padding: 0"><span style="font-size: 100%">Новые коллекции</span></h2>
	</section>

	<section class="slide question">
		<h2 style="text-align: center; padding: 0"><span style="font-size: 90%">Работа с объектами</span></h2>
	</section>

	<section class="slide question">
		<h2 style="text-align: center; padding: 0"><span style="font-size: 100%">Reflect</span></h2>
	</section>

	<section class="slide question">
		<h2 style="text-align: center; padding: 0"><span style="font-size: 100%">Дополнительные нововведения</span></h2>
	</section>






	<section class="slide">
		<h2 class="shout">Высший пилотаж</h2>
	</section>

	<section class="slide question">
		<h2 style="text-align: center; padding: 0"><span style="font-size: 100%">Деструктуризация</span></h2>
	</section>

	<section class="slide question">
		<h2 style="text-align: center; padding: 0"><span style="font-size: 100%">Оператор расширения</span></h2>
	</section>

	<section class="slide question">
		<h2 style="text-align: center; padding: 0"><span style="font-size: 100%">Symbol</span></h2>
	</section>

	<section class="slide question">
		<h2 style="text-align: center; padding: 0"><span style="font-size: 100%">Итераторы</span></h2>
	</section>

	<section class="slide question">
		<h2 style="text-align: center; padding: 0"><span style="font-size: 100%">Генераторы</span></h2>
	</section>

	<section class="slide question">
		<h2 style="text-align: center; padding: 0"><span style="font-size: 85%">Асинхронные функции (<code>async/await</code>)</span></h2>
	</section>




	<section class="slide">
		<h2 class="shout">Перерыв</h2>
	</section>

	<section class="slide question">
		<h2 style="text-align: center; padding: 0"><span style="font-size: 100%">Что с поддержкой?</span></h2>
	</section>

	<section class="slide nopage">
		<h2>Поддержка версий ECMAScript<br/><a href="http://kangax.github.io/compat-table/es6/" target="_blank">http://kangax.github.io/</a></h2>
		<div style="position:relative;width: 100%; height: 75%;"><img class="place" src="kangax.png" style="transform-origin: center;transform: translate(-50%,-50%) scale(1.17);"></div>
	</section>

	<section class="slide nopage">
		<h2>Возможности браузера<br/><a href="http://caniuse.com/" target="_blank">http://caniuse.com/</a></h2>
		<div style="position:relative;width: 100%; height: 75%;"><img class="place" src="caniuse.png" style="transform-origin: center;transform: translate(-50%,-50%) scale(0.76);"></div>
	</section>

	<section class="slide question">
		<h2 style="text-align: center; padding: 0"><span style="font-size: 100%">Что делать?</span></h2>
	</section>

	<section class="slide">
		<h2>Полифиллы</h2>
		<blockquote>
			<p><b>Полифилл</b> &mdash; это библиотека, которая добавляет в старые браузеры поддержку возможностей, которые в современных браузерах являются встроенными</p>
		</blockquote>
		<pre class="hljs js">
			<code>if (!Object.is) {</code>
			<code>    Object.is = function(x, y) {</code>
			<code>        if (x === y) { return x !== 0 || 1 / x === 1 / y; }</code>
			<code>        else { return x !== x && y !== y; }</code>
			<code>    }</code>
			<code>}</code>
			<code> </code>
		</pre>
	</section>

	<section class="slide">
		<h2>Транспайлинг</h2>
		<blockquote>
			<p><b>Транспайлинг</b> &mdash; это конвертация кода программы, написанной на одном языке программирования в другой язык программирования</p>
		</blockquote>
		<pre class="hljs js">
			<code><span class="comment">// before</span></code>
			<code>const f = num => `${num} в квадрате это ${num ** 2}`;</code>
			<code> </code>
			<code><span class="comment">// after</span></code>
			<code>var f = function (num) {</code>
			<code>    return num + ' в квадрате это ' + Math.pow(num, 2);</code>
			<code>};</code>
			<code> </code>
		</pre>
	</section>

	<section class="slide">
		<h2>Babel (<a href="http://babeljs.io/" target="_blank">babeljs.io</a>)</h2>
		<blockquote>
			<p class="small-content"><b>Babel</b> &mdash; многофункциональный транспайлер, позволяет транспиллировать ES5, ES6, ES2016, ES2017, ES.Next , JSX и Flow</p>
		</blockquote>
		<p class="note"><a href="http://babeljs.io/repl/" target="_blank">Babel REPL</a> &mdash; бабель-онлайн</p>
	</section>

	<section class="slide">
		<h2>Babel &mdash; использование</h2>
		<pre class="hljs bash">
			<code><span class="comment rus"># устанавливаем модуль</span></code>
			<code>$ npm install -g babel-cli babel-preset-latest</code>
			<code> </code>
			<code><span class="comment rus"># файл с конфигурацией</span></code>
			<code>$ nano .babelrc</code>
			<code>{</code>
			<code>    "presets": ["latest"]</code>
			<code>}</code>
			<code> </code>
			<code><span class="comment rus"># устанавливаем модуль</span></code>
			<code>$ babel modern.js --watch --out-file compatible.js</code>
			<code> </code>
		</pre>
	</section>

	<section class="slide">
		<h2>Как работает Babel?</h2>
		<ul lang="en">
			<li>Парсит исходный код и <mark>строит AST</mark></li>
			<li>Последовательно вызывает набор функций, которые каким-то образом <mark>трансформируют AST</mark> программы</li>
			<li>В процессе трансформации части AST, относящиеся к современному синтексису, <mark>заменяются на эквивалентные</mark>,
				но более общеупотребительные фрагменты</li>
			<li>Преобразует модифицированное AST в <mark>новый транспилированный</mark> код</li>
		</ul>

		<p>Гибкий набор функций трансформаций: <code><a href="https://github.com/babel/babel-preset-env" target="_blank">babel-preset-env</a></code></p>
	</section>

	<section class="slide">
		<h2>Текущие версии JavaScript’а</h2>
		<ul lang="ru">
			<li>Декабрь 1999 &mdash; <mark>ECMAScript 3</mark></li>
			<li><mark>ECMAScript 4</mark> &mdash; всё сложно</li>
			<li>Декабрь 2009 &mdash; <mark>ECMAScript 5</mark></li>
			<ul>
				<li>Июнь 2011 &mdash; <mark>ECMAScript 5.1</mark> (ISO/IEC 16262:2011)</li>
			</ul>
			<li>Июль 2015 &mdash; <mark>ECMAScript 6</mark> (ECMAScript 2015)</li>
			<li>Июль 2016 &mdash; <mark>ECMAScript 7</mark> (ECMAScript 2016)</li>
			<li><em>Лето 2017</em> &mdash; <mark>ECMAScript 2017</mark> (и так далее)</li>
			<li>ES.Next</li>
		</ul>
	</section>

	<section class="slide">
		<h2>ES.Next</h2>
		<blockquote>
			<p class="small-content"><b>ES.Next</b> &mdash; так временно называют совокупность новых возможностей языка, которые могут войти в следующую версию спецификации. Фичи из ES.Next правильнее называть <mark>“предложения” (proposals)</mark>, потому что они всё ещё находятся на стадии обсуждения</p>
		</blockquote>
	</section>

	<section class="slide question">
		<h2 style="text-align: center; padding: 0"><span style="font-size: 100%">Процесс <strong>TC39</strong></span></h2>
	</section>

	<section class="slide">
		<h2>TC39</h2>
		<blockquote>
			<p class="small-content"><b>TC39 (технический комитет 39)</b> &mdash; занимается развитием <strong>JavaScript</strong>. Его членами являются компании (помимо прочих, все основные производители браузеров). TC39 регулярно собирается, на встречах присутствуют участники, представляющие интересы компаний, и приглашенные эксперты</p>
		</blockquote>
	</section>

	<section class="slide">
		<h2>Процесс TC39</h2>
		<blockquote>
			<p><b>Процесс TC39</b> &mdash; алгоритм внесения изменений в спецификацию ECMAScript. Каждое предложение по добавлению новой возможности в ECMAScript в процессе созревания проходит <mark>ряд этапов</mark></p>
		</blockquote>
		<ul lang="ru">
			<li>0 этап: идея (strawman)</li>
			<li>1 этап: предложение (proposal)</li>
			<li>2 этап: черновик (draft)</li>
			<li>3 этап: кандидат (candidate)</li>
			<li>4 этап: финал (finished)</li>
		</ul>
	</section>

	<section class="slide">
		<h2>Будущее JavaScript</h2>
		<ul lang="en">
			<li><a href="https://github.com/tc39/proposals/" target="_blank">Репозиторий со списком текущих предложений</a></li>
			<li><a href="https://github.com/tc39/proposals/blob/master/finished-proposals.md
" target="_blank">Предложения, перешедшие в stage-4</a></li>
		</ul>
		<ul lang="en">
			<li>наиболее интересные <em>proposals:</em></li>
			<ul>
				<li>Object Rest/Spread Properties</li>
				<li>Class and Property Decorators</li>
				<li><code>Promise.prototype.finally</code></li>
			</ul>
		</ul>
	</section>




	<section class="slide">
		<h2 class="shout">Перерыв</h2>
	</section>

	<section class="slide question">
		<h2 style="text-align: center; padding: 0"><span style="font-size: 100%"><strong>Диалекты</strong> JavaScript</span></h2>
	</section>

	<section class="slide">
		<h2>Транспилляция из ES.Next</h2>
		<pre class="hljs js">
			<code>class ReleaseReducer extends BaseReducer {</code>
			<code>    constructor(...args) {</code>
			<code>        super(args.length);</code>
			<code>        this.initial = args;</code>
			<code>    }</code>
			<code>    set Fields (value = {}) {</code>
			<code>        const {name, data:count = 0} = value;</code>
			<code>        this.fields = Object.assign(this.fields, {name, count});</code>
			<code>    }</code>
			<code>}</code>
			<code> </code>
		</pre>
	</section>

	<section class="slide">
		<h2>Dart programming language</h2>
		<pre class="hljs dart">
			<code>import 'dart:async';</code>
			<code>import 'dart:math' show Random;</code>
			<code> </code>
			<code>Stream&lt;double> computePi({int batch: 1000000}) async* { ... }</code>
			<code> </code>
			<code>main() async {</code>
			<code>    print('Compute π using the Monte Carlo method.');</code>
			<code>    await for (var estimate in computePi()) {</code>
			<code>        print('π ≅ $estimate');</code>
			<code>    }</code>
			<code>}</code>
			<code> </code>
		</pre>
	</section>

	<section class="slide">
		<h2>CoffeeScript</h2>
		<pre class="hljs coffeescript">
			<code>class Human</code>
			<code>    constructor : (@name) -></code>
			<code> </code>
			<code>class Baby extends Human</code>
			<code>    say    : (msg) -> alert "#{@name} говорит '#{msg}'"</code>
			<code>    saymsg = (msg) -> alert msg</code>
			<code>    @echo  = (msg) -> console.log msg</code>
			<code> </code>
			<code>matt = new Baby("Матвей")</code>
			<code>matt.sayHi()</code>
			<code> </code>
		</pre>
	</section>

	<section class="slide">
		<h2>Больше кофечки богу<br/>кофечки!</h2>
		<pre class="hljs coffeescript">
			<code>if happy and knowsIt</code>
			<code>    lyrics = while num -= 1</code>
			<code>        "#{num} little monkeys, jumping on the bed"</code>
			<code>else</code>
			<code>    date = if friday then sue else jill</code>
			<code> </code>
			<code>for filename in list</code>
			<code>    do (filename) -></code>
			<code>        fs.readFile filename, (err, contents) -></code>
			<code>            compile filename, contents.toString()</code>
			<code> </code>
		</pre>
	</section>

	<section class="slide">
		<h2>ClojureScript</h2>
		<pre class="hljs clojure">
			<code>(ns hello-world.core</code>
			<code>  (:require [cljs.nodejs :as nodejs]))</code>
			<code> </code>
			<code>(nodejs/enable-util-print!)</code>
			<code> </code>
			<code>(defn -main [& args]</code>
			<code>  (println "Hello world!"))</code>
			<code> </code>
			<code>(set! *main-cli-fn* -main)</code>
			<code> </code>
		</pre>
	</section>

	<section class="slide">
		<h2>TypeScript</h2>
		<pre class="hljs typescript">
			<code>interface Person {</code>
			<code>    name: string;</code>
			<code>    age: number;</code>
			<code>}</code>
			<code>function meet(person: Person) {</code>
			<code>    return `Привет, я ${person.name}, мне ${parson.age}`;</code>
			<code>}</code>
			<code>const user = { name: "Jane", age: 21 };</code>
			<code>console.log(meet(user));</code>
			<code> </code>
		</pre>
	</section>




	<section class="slide question">
		<h2 style="text-align: center; padding: 0"><span style="font-size: 100%">TypeScript</h2>
	</section>

	<section class="slide">
		<h2>TypeScript</h2>
		<blockquote>
			<p><b>TypeScript</b> &mdash; язык программирования, представленный Microsoft в 2012 году. TypeScript является <mark>обратно совместимым с JavaScript и компилируется в последний</mark>. TypeScript отличается от JavaScript возможностью <mark>явного статического назначения типов</mark>, а также поддержкой <mark>подключения модулей</mark></p>
		</blockquote>

		<p class="note"><a href="https://basarat.gitbooks.io/typescript/" target="_blank">TypeScript Deep Dive</a> &mdash; крутая книга по TypeScript</p>
	</section>

	<section class="slide">
		<h2>Преимущества TypeScript</h2>
		<ul lang="ru">
			<li>Аннотации типов и проверка их согласования на этапе компиляции</li>
			<li>Интерфейсы, кортежи, декораторы свойств и методов, расширенные возможности ООП</li>
			<li>TypeScript &mdash; надмножество JavaScript, поэтому любой код на JavaScript будет выполнен и в TypeScript</li>
			<li>Широкая поддержка IDE и адекватный автокомплит</li>
			<li>Поддержка ES6-модулей из коробки</li>
			<li>Высокая скорость разработки</li>
		</ul>
	</section>

	<section class="slide">
		<h2>Установка и использование</h2>
		<pre class="hljs bash">
			<code><span class="comment rus"># установка компилятора</span></code>
			<code>$ npm install -g typescript</code>
			<code> </code>
			<code><span class="comment rus"># компиляция файла</span></code>
			<code>$ tsc helloworld.ts</code>
			<code> </code>
			<code><span class="comment rus"># утилита позволяет компилировать и сразу запускать .ts файлы</span></code>
			<code>$ npm install -g ts-node</code>
			<code>$ ts-node script.ts</code>
			<code> </code>
		</pre>
	</section>

	<section class="slide">
		<h2>Файл <code>tsconfig.json</code></h2>
		<pre class="hljs json">
			<code>{</code>
			<code>    "compilerOptions": {</code>
			<code>        "outDir": "cache/",</code>
			<code>        "target": "es2016",</code>
			<code>        "declaration": false,</code>
			<code>        "module": "commonjs",</code>
			<code>        "strictNullChecks": true,</code>
			<code>        "sourceMap": true</code>
			<code>        ... }</code>
			<code>}</code>
			<code> </code>
		</pre>
	</section>


	<section class="slide">
		<h2>Аннотации типов</h2>
		<pre class="hljs ts">
			<code>const valid: boolean = true;</code>
			<code>const count: number = 42;</code>
			<code>const name: string = 'Jon Snow';</code>
			<code> </code>
			<code>const values: number[] = [1, 2, 3, 4, 5];</code>
			<code>const tuple: [string, number] = ['Mean of life', 42];</code>
			<code> </code>
			<code>enum Color {Red, Green, Blue};</code>
			<code>const c: Color = Color.Green;</code>
			<code> </code>
		</pre>
	</section>

	<section class="slide">
		<h2>Аннотации типов</h2>
		<pre class="hljs ts">
			<code>let some: any = true; some = 42;</code>
			<code>some = 'maybe a string instead'; <span class="comment rus">// типы не проверяются</span></code>
			<code><span class="comment rus">// приведение типов (“trust me, I know what I’m doing”)</span></code>
			<code>let length: number = (&lt;string>some).length;</code>
			<code>length = (some as string).length;</code>
			<code> </code>
			<code>let unusable: void = undefined;</code>
			<code>let u: undefined = undefined;</code>
			<code>let n: null = null;</code>
			<code> </code>
		</pre>
	</section>


	<section class="slide">
		<h2>Функции в TypeScript</h2>
		<pre class="hljs ts">
			<code>function sum(x: number, y: number): number {</code>
			<code>    return x + y;</code>
			<code>}</code>
			<code> </code>
			<code>const many: number = sum(40, 2);</code>
			<code> </code>
			<code>const gcd = (a: number, b: number): number =></code>
			<code>    (b === 0) ? a : gcd(b, a % b);</code>
			<code>console.log(gcd(48, 30)); <span class="comment">// 6</span></code>
			<code> </code>
		</pre>
	</section>

	<section class="slide">
		<h2>Функции в TypeScript</h2>
		<pre class="hljs ts">
			<code>function sum(x: number, <mark>y?: number</mark>): number {</code>
			<code>    if (y) {</code>
			<code>        return x + y;</code>
			<code>    } else {</code>
			<code>        return x;</code>
			<code>    }</code>
			<code>}</code>
			<code> </code>
			<code>console.log(sum(34, 8));  <span class="comment">// 42</span></code>
			<code>console.log(sum(42));     <span class="comment">// OK! - 42</span></code>
			<code> </code>
		</pre>
	</section>

	<section class="slide">
		<h2>Функции в TypeScript</h2>
		<pre class="hljs ts">
			<code>function sum(x: number, <mark>y: number = 42</mark>): number {</code>
			<code>    return x + y;</code>
			<code>}</code>
			<code> </code>
			<code>console.log(sum(34, 8));  <span class="comment">// 42</span></code>
			<code>console.log(sum(42));     <span class="comment">// OK! - 84</span></code>
			<code> </code>
		</pre>
	</section>

	<section class="slide">
		<h2>Функции в TypeScript</h2>
		<pre class="hljs ts">
			<code>function sum(...numbers: number[]): number {</code>
			<code>    return numbers.reduce((sum: number, current: number): number => {</code>
			<code>        sum += current; return sum;</code>
			<code>    }, 0);</code>
			<code>}</code>
			<code> </code>
			<code>console.log(sum(1, 2, 3, 4, 5));     <span class="comment">// 15</span></code>
			<code>console.log(sum(42, 0, -10, 5, 5));  <span class="comment">// 42</span></code>
			<code> </code>
		</pre>
	</section>

	<section class="slide">
		<h2>Функции в TypeScript</h2>
		<pre class="hljs ts">
			<code>function square(num: number): number;</code>
			<code>function square(num: string): number;</code>
			<code>function square(num: any): number {</code>
			<code>    if (typeof num === 'string') {</code>
			<code>        return parseInt(num, 10) * parseInt(num, 10);</code>
			<code>    } else {</code>
			<code>        return num * num;</code>
			<code>    }</code>
			<code>}</code>
			<code> </code>
		</pre>
	</section>


	<section class="slide">
		<h2>Интерфейсы</h2>
		<pre class="hljs ts">
			<code>interface Figure {</code>
			<code>    width: number;</code>
			<code>    readonly height: number;</code>
			<code>}</code>
			<code> </code>
			<code>const square: Figure = {width: 42, height: 42};</code>
			<code>square.width = 15;    <span class="comment">// OK</span></code>
			<code>square.height = 15;   <span class="comment">// Cannot assign to read-only property</span></code>
			<code> </code>
		</pre>
	</section>

	<section class="slide">
		<h2>Интерфейсы</h2>
		<pre class="hljs ts">
			<code>interface Figure {</code>
			<code>    width: number;</code>
			<code>    height: number;</code>
			<code>}</code>
			<code>interface Square extends Figure {</code>
			<code>    square: () => number;</code>
			<code>}</code>
			<code>const sq = {width: 15, height: 20, </code>
			<code>    square() { return this.width * this.height; } };</code>
			<code>sq.square();    <span class="comment">// 300</span></code>
			<code> </code>
		</pre>
	</section>


	<section class="slide">
		<h2>Классы в TypeScript</h2>
		<pre class="hljs ts">
			<code><mark>abstract</mark> class Class1 {</code>
			<code>    abstract func1(): void;  <span class="comment rus">// необходимо определить в наследниках</span></code>
			<code>}</code>
			<code>class Class2 extends Class1 {</code>
			<code>    static <mark>readonly</mark> field3: string = 'hello';</code>
			<code>    <mark>protected</mark> name: string;</code>
			<code>    <mark>private</mark> field1: number;</code>
			<code>    constructor() { super(); }</code>
			<code>    public func1(): void { ... }</code>
			<code>}</code>
			<code> </code>
		</pre>
	</section>

	<section class="slide">
		<h2>Классы в TypeScript</h2>
		<pre class="hljs ts">
			<code>class Point {</code>
			<code>    x: number;</code>
			<code>    y: number;</code>
			<code>}</code>
			<code>interface Point3d extends Point {</code>
			<code>    z: number;</code>
			<code>}</code>
			<code> </code>
			<code>let point3d: Point3d = {x: 1, y: 2, z: 3};</code>
			<code> </code>
		</pre>
	</section>



	<section class="slide">
		<h2>Generics</h2>
		<pre class="hljs ts">
			<code>class Queue&lt;T> {</code>
			<code>    private data = [];</code>
			<code>    push = (item: T) => this.data.push(item);</code>
			<code>    pop = (): T => this.data.shift();</code>
			<code>}</code>
			<code> </code>
			<code>const queue = new Queue&lt;number>();</code>
			<code>queue.push(0);    <span class="comment rus">// OK</span></code>
			<code>queue.push('1');  <span class="comment rus">// Error: cannot push a string</span></code>
			<code> </code>
		</pre>
	</section>

	<section class="slide">
		<h2>Generics</h2>
		<pre class="hljs ts">
			<code>function makeKeyValue&lt;K, V>(key: K, value: V): { key: K; value: V } {</code>
			<code>    return {key, value};</code>
			<code>}</code>
			<code> </code>
			<code>const pair = makeKeyValue('days', ['ПН', 'ВТ']);</code>
			<code>pair.value.push('СР', 'ЧТ', 'ПТ', 'СБ', 'ВС');  <span class="comment rus">// OK</span></code>
			<code>pair.value.push(42);   <span class="comment rus">// Error: cannot push a number</span></code>
			<code> </code>
		</pre>
	</section>



	<section class="slide">
		<h2>Декораторы свойств и методов</h2>
		<pre class="hljs ts">
			<code>class Utils {</code>
			<code>    <mark>@memoize</mark></code>
			<code>    static fibonacci (n: number): number {</code>
			<code>        return n < 2 ? 1 : Utils.fibonacci(n - 1) + Utils.fibonacci(n - 2)</code>
			<code>    }</code>
			<code>}</code>
			<code>console.time('count');</code>
			<code>console.log(Utils.fibonacci(50));</code>
			<code>console.timeEnd('count');     <span class="comment rus">// оооочень долго</span></code>
			<code> </code>
		</pre>
	</section>

	<section class="slide">
		<h2>Декораторы свойств и методов</h2>
		<pre class="hljs ts">
			<code>function memoize (target, key, descriptor) {</code>
			<code>    const originalMethod = descriptor.value;</code>
			<code>    const cash = {};</code>
			<code>    descriptor.value = function (n: number): number {</code>
			<code>        return cash[n] ? cash[n] : cash[n] = originalMethod(n);</code>
			<code>    }</code>
			<code>}</code>
			<code>console.log(Utils.fibonacci(1000));   <span class="comment rus">// 7.0330367711422765e+208</span></code>
			<code>console.timeEnd('count');             <span class="comment rus">// count: 5.668ms</span></code>
			<code> </code>
		</pre>
	</section>


	<section class="slide">
		<h2>TypeScript Declaration Files</h2>
		<blockquote>
			<p class="small-content"><b>TypeScript Declaration Files (<code>.d.ts</code>)</b> &mdash; служат для описания интерфейсов, экспортируемых классов и методов для модулей, написанных на обычном JavaScript</p>
		</blockquote>
	</section>

	<section class="slide">
		<h2><code>.d.ts</code> файлы</h2>
		<pre class="hljs ts">
			<code>interface JQueryStatic {</code>
			<code>    ajax(settings: JQueryAjaxSettings): JQueryXHR;</code>
			<code>    (element: Element): JQuery;</code>
			<code>    (html: string, ownerDocument?: Document): JQuery;</code>
			<code>    (): JQuery;</code>
			<code>}</code>
			<code>declare var $: JQueryStatic;</code>
			<code>declare module 'jquery' {</code>
			<code>    export = $;</code>
			<code>}</code>
			<code> </code>
		</pre>
	</section>

	<section class="slide question">
		<h2 style="text-align: center; padding: 0"><span style="font-size: 100%">Ваши вопросы?</h2>
	</section>






	<section class="slide">
		<h2>Полезные ссылки</h2>
		<ul lang="en">
			<li><a href="https://tc39.github.io/ecma262/" target="_blank">ECMAScript 2017</a> Language Specification</li>
			<li><a href="http://www.ecma-international.org/" target="_blank">Ecma International</a></li>
			<li>Отличие между <a href="http://stackoverflow.com/questions/15244453/practical-difference-between-ecma262-and-iso-iec-16262" target="_blank">ECMA-262 и ISO/IEC 16262</a></li>
			<li>Поддержка версий JavaScript на <a href="http://kangax.github.io/compat-table/es6/" target="_blank">kangax.github.io</a> и возможности браузеров на <a href="http://caniuse.com/" target="_blank">caniuse.com</a></li>
			<li>Про полифиллы подробно <a href="https://github.com/Modernizr/Modernizr/wiki/HTML5-Cross-Browser-Polyfills" target="_blank">здесь</a>, <a href="https://polyfill.io/v2/docs/" target="_blank">сборничек полифиллов</a></li>
			<li><a href="http://babeljs.io/" target="_blank">Babel</a> и <a href="http://babeljs.io/repl/" target="_blank">Babel REPL</a>, а также <a href="https://github.com/babel/babel-preset-env" target="_blank">babel-preset-env</a></li>
		</ul>
	</section>

	<section class="slide">
		<h2>Полезные ссылки</h2>
		<ul lang="en">
			<li><a href="https://tc39.github.io/process-document/" target="_blank">Процесс TC39</a>, <a href="https://github.com/tc39/proposals/" target="_blank">репозиторий</a> со списком всех текущих предложений и <a href="https://github.com/tc39/proposals/blob/master/finished-proposals.md" target="_blank">предложения</a>, перешедшие в stage-4</li>
			<li><a href="https://www.typescriptlang.org/index.html" target="_blank">Источник</a> информации о TypeScript</li>
			<li><a href="https://github.com/TypeStrong/ts-node" target="_blank">Модуль ts-node</a>: TypeScript execution environment and REPL for node.js</li>
			<li><a href="https://basarat.gitbooks.io/typescript/" target="_blank">TypeScript Deep Dive</a> &mdash; крутая книга по TypeScript</li>
		</ul>
	</section>

	<section class="slide">
		<h2 class="shout">Всем спасибо!</h2>
	</section>

	<div class="progress"></div>
	<script src="/lib/shower/shower.min.js"></script>
	<script src="/lib/hljs/highlight.pack.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>

</body>
</html>
