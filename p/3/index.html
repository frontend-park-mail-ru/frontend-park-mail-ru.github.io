<!DOCTYPE HTML>
<html lang="ru">
<head>
    <title>III. Отладка и мобильный веб</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=792, user-scalable=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <link rel="stylesheet" href="../../shower/themes/tech-mail/styles/screen.css">
</head>
<body class="list">
    <header class="caption">
        <h1>III. Отладка и мобильный веб</h1>
        <p>Web Inspector, Sass, производительность и Touch-события.</p>
    </header>

    <section class="slide title">
        <h2>
            <span>1 Web Inspector, Sass</span>
        </h2>
    </section>

    <section class="slide shout">
        <h2>
            Web Inspector
        </h2>
    </section>

    <section class="slide">
        <h2>Инструменты</h2>
        <div>
            <pre>
                <code>Chrome DevTools <mark class="comment">/* Ctrl + Shift + I, ⌘ + ⇧ + I */</mark></code>
                <code>Safari Web Inspector <mark class="comment">/* ⌘ + ⌥ + I */</mark></code>
                <code>Firefox Web Developer <mark class="comment">/* Ctrl + Shift + I, ⌘ + ⇧ + I */</mark></code>
                <code>Firebug <mark class="comment">/* Firefox Extension */</mark></code>
                <code>Opera Dragonfly <mark class="comment">/* Ctrl + Shift + I, ⌘ + ⌥ + I */</mark></code>
                <code>IE Developer Tools <mark class="comment">/* F12 */</mark></code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>Возможности</h2>
        <div>
            <pre>
                <code>ИНСПЕКТОР DOM</code>
                <code>КОНСОЛЬ</code>
                <code>ОТЛАДЧИК JavaScript</code>
                <code>СЕТЕВАЯ АКТИВНОСТЬ</code>
                <code>ПРОФАЙЛЕРЫ</code>
                <code>ЭМУЛЯТОР</code>
            </pre>
        </div>
    </section>

    <section class="slide shout">
        <h2>
            Препроцессоры CSS
        </h2>
    </section>

    <section class="slide">
        <h2>Зачем?</h2>
        <div>
            <pre>
                <code>ПЕРЕМЕННЫЕ</code>
                <code>DRY (DON’T REPEAT YOURSELF)</code>
                <code>ВЕНДОРНЫЕ ПРЕФИКСЫ</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>Препроцессоры</h2>
        <div>
            <pre>
                <code><a href="http://sass-lang.com/">Sass</a></code>
                <code><a href="http://lesscss.org">LESS</a></code>
                <code><a href="http://learnboost.github.io/stylus/">Stylus</a></code>
            </pre>
        </div>
    </section>

    <section class="slide cover h bright">
        <img src="../../pics/sass-logo.png" alt="" />
    </section>

    <section class="slide">
        <h2>Установка</h2>
        <div>
            <pre>
                <code>Ruby (<a href="http://rubyinstaller.org">Windows</a>)</code>
                <code>$ sudo gem install sass</code>
                <code>$ sass --version</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>Использование</h2>
        <div>
            <pre>
                <code>$ sass in.scss out.css</code>
                <code>$ sass --watch in.scss:out.css</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2><code>grunt-contrib-sass</code></h2>
        <div>
            <pre>
                <code>$ npm install grunt-contrib-sass --save-dev</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>Gruntfile.js</h2>
        <div>
            <pre>
                <code>grunt.initConfig({</code>
                <code>    sass: { … } <mark class="comment">/* grunt-contrib-sass */</mark></code>
                <code>});</code>
                <code></code>
                <code>grunt.loadNpmTasks('grunt-contrib-sass');</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2><code>grunt-contrib-sass</code></h2>
        <div>
            <pre>
                <code>css: { <mark class="comment">/* Подзадача */</mark></code>
                <code>    files: [{</code>
                <code>        expand: true,</code>
                <code>        cwd: 'public/css', <mark class="comment">/* исходная директория */</mark></code>
                <code>        src: '*.scss', <mark class="comment">/* имена шаблонов */</mark></code>
                <code>        dest: 'public/css', <mark class="comment">/* результирующая директория */</mark></code>
                <code>        ext:  '.css'</code>
                <code>    }]}</code>
            </pre>
        </div>
    </section>

    <!-- http://sassmeister.com/gist/10103589 -->

    <section class="slide">
        <h2>SCSS: Variables</h2>
        <div>
            <pre>
                <code>$font-family: 'PT Serif', serif;</code>
                <code>$font-size: 18px;</code>
                <code>$line-height: $font-size * 1.5;</code>
                <code>$color: #333;</code>
                <code>body {</code>
                <code>    font: normal #{$font-size}/#{$line-height} $font-family;</code>
                <code>    color: $color; }</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>CSS</h2>
        <div>
            <pre>
                <code>body {</code>
                <code>    font: normal 18px/27px 'PT Serif', serif;</code>
                <code>    color: #333; }</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>SCSS: Nesting</h2>
        <div>
            <pre>
                <code>ul {</code>
                <code>    padding: 0;</code>
                <code>    li {</code>
                <code>        display: block;</code>
                <code>        &amp;:hover {</code>
                <code>            color: #eee; }</code>
                <code>    }</code>
                <code>}</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>CSS</h2>
        <div>
            <pre>
                <code>ul {</code>
                <code>    padding: 0; }</code>
                <code>ul li {</code>
                <code>    display: block; }</code>
                <code>ul li:hover {</code>
                <code>    color: #eee; }</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>SCSS: Nesting</h2>
        <div>
            <pre>
                <code>.toolbar {</code>
                <code>    …</code>
                <code>    &amp;__button {</code>
                <code>        …</code>
                <code>    }</code>
                <code>}</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>CSS</h2>
        <div>
            <pre>
                <code>.toolbar {</code>
                <code>    … }</code>
                <code>.toolbar__button {</code>
                <code>    … }</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>SCSS: Import &amp; Partials</h2>
        <div>
            <pre>
                <code><mark class="comment">/* _reset.scss */</mark></code>
                <code>html, body, ul, ol {</code>
                <code>    margin: 0; padding: 0; }</code>
            </pre>
            <pre>
                <code><mark class="comment">// main.scss</mark></code>
                <code>@import "reset";</code>
                <code>body { color: #333; }</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>CSS</h2>
        <div>
            <pre>
                <code>html, body, ul, ol {</code>
                <code>    margin: 0; padding: 0; }</code>
                <code>body {</code>
                <code>    color: #333; }</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>SCSS: Mixins</h2>
        <div>
            <pre>
                <code>@mixin box-sizing($value) {</code>
                <code>    -webkit-box-sizing: $value;</code>
                <code>    -moz-box-sizing: $value;</code>
                <code>    box-sizing: $value; }</code>
                <code>.button {</code>
                <code>    color: #333;</code>
                <code>    @include box-sizing(border-box); }</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>CSS</h2>
        <div>
            <pre>
                <code>.button {</code>
                <code>    color: #333;</code>
                <code>    -webkit-box-sizing: border-box;</code>
                <code>    -moz-box-sizing: border-box;</code>
                <code>    box-sizing: border-box; }</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>SCSS: Inheritance</h2>
        <div>
            <pre>
                <code>.message {</code>
                <code>    color: #333;</code>
                <code>    background: #eee;</code>
                <code>    padding: 8px; }</code>
                <code>.message_error {</code>
                <code>    @extend .message;</code>
                <code>    background: #e33; }</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>CSS</h2>
        <div>
            <pre>
                <code>.message {</code>
                <code>    color: #333;</code>
                <code>    background: #eee;</code>
                <code>    padding: 8px; }</code>
                <code>.message_error {</code>
                <code>    color: #333;</code>
                <code>    background: #e33;</code>
                <code>    padding: 8px; }</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>Домашнее задание</h2>
        <div>
            <pre>
                <code>ПОРТИРОВАТЬ CSS НА SASS.</code>
                <code>НАСТРОИТЬ WATCH ДЛЯ SCSS ФАЙЛОВ.</code>
                <code>РЕФАКТОРИНГ SCSS ФАЙЛОВ.</code>
            </pre>
        </div>
    </section>

    <section class="slide title">
        <h2>
            <span>2 Производительность</span>
        </h2>
    </section>

    <section class="slide">
        <h2>Загрузка страницы</h2>
        <div>
            <pre>
                <code>DNS LOOKUP</code>
                <code>СОЕДИНЕНИЕ И ОТПРАВКА ЗАПРОСА</code>
                <code>ОЖИДАНИЕ И ПОЛУЧЕНИЕ ОТВЕТА</code>
                <code>ПАРСИНГ HTML И ПОСТРОЕНИЕ DOM</code>
                <code>ЗАГРУЗКА ВНЕШНИХ РЕСУРСОВ</code>
                <code>СОБЫТИЕ <mark class="important">load</mark></code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>Внешние ресурсы</h2>
        <div>
            <pre>
                <code>ТАБЛИЦЫ СТИЛЕЙ</code>
                <code>СКРИПТЫ</code>
                <code>ИЗОБРАЖЕНИЯ</code>
                <code>ШРИФТЫ</code>
                <code>ВСТРАИВАЕМЫЕ ОБЪЕКТЫ (FLASH, SVG)</code>
                <code>…</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>Внешние ресурсы</h2>
        <div>
            <pre>
                <code>ЗАГРУЗКА ТАБЛИЦ СТИЛЕЙ БЛОКИРУЕТ РЕНДЕРИНГ</code>
                <code>ЗАГРУЗКА СКРИПТОВ БЛОКИРУЕТ ПАРСИНГ HTML</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>Блокирующая загрузка</h2>
        <div>
            <pre>
                <code>&lt;html&gt;&lt;head&gt;</code>
                <code>    &lt;link href="styles.css" rel="stylesheet"/&gt;</code>
                <code>&lt;/head&gt;&lt;body&gt;</code>
                <code>    &lt;p&gt;<mark class="important">НЕ БУДЕТ ОТРИСОВАНО ДО ЗАГРУЗКИ СТИЛЕЙ.</mark>&lt;/p&gt;</code>
                <code>    &lt;script src="script.js">&lt;/script&gt;</code>
                <code>    &lt;p&gt;<mark class="important">НЕ БУДЕТ ОБРАБОТАНО ДО ЗАГРУЗКИ СКРИПТА.</mark>&lt;/p&gt;</code>
                <code>&lt;/body&gt;&lt;/html&gt;</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>Блокирующая загрузка</h2>
        <div>
            <pre>
                <code>ССЫЛКИ НА ТАБЛИЦЫ СТИЛЕЙ ОБЪЯВЛЯЙТЕ В <mark class="important">HEAD</mark></code>
                <code>СКРИПТЫ — В КОНЦЕ <mark class="important">BODY</mark></code>
            </pre>
        </div>
        <!-- ДЕМО: водопад -->
    </section>

    <section class="slide">
        <h2>Неблокирующая загрузка</h2>
        <div>
            <pre>
                <code>ИЗОБРАЖЕНИЯ</code>
                <code>ШРИФТЫ</code>
                <code>ВСТРАИВАЕМЫЕ ОБЪЕКТЫ (FLASH, SVG)</code>
                <code>…</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>Неблокирующая загрузка</h2>
        <div>
            <pre>
                <code>&lt;body&gt;</code>
                <code>    &lt;p&gt;<mark class="important">НИЖЕ ЗАРЕЗЕРВИРУЕТСЯ МЕСТО НА СТРАНИЦЕ.</mark>&lt;/p&gt;</code>
                <code>    &lt;img src="image.gif" width="400" height="200"/&gt;</code>
                <code>    &lt;p&gt;<mark class="important">ИЗОБРАЖЕНИЕ ОТОБРАЗИТСЯ ПОСЛЕ ЗАГРУЗКИ.</mark>&lt;/p&gt;</code>
                <code>&lt;/body&gt;</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>Неблокирующая загрузка</h2>
        <div>
            <p>
                ПРИ ИСПОЛЬЗОВАНИИ ВСТРАИВАЕМОГО ШРИФТА ТЕКСТ ДО ЕГО ЗАГРУЗКИ НЕ&nbsp;БУДЕТ&nbsp;ОТРИСОВАН. НО МЕСТО НА СТРАНИЦЕ «ЗАЙМЕТ» В ОБЪЕМЕ, НЕОБХОДИМОМ ДЛЯ ЕГО ОТОБРАЖЕНИЯ СТАНДАРТНЫМ ШРИФТОМ.
            </p>
        </div>
    </section>

    <section class="slide">
        <h2>Неблокирующая загрузка</h2>
        <div>
            <pre>
                <code>var s = document.createElement('script');</code>
                <code>s.src = 'script.js';</code>
                <code>document.head.appendChild(s);</code>
                <br/>
                <code>&lt;script src="script.js" async="async">&lt;/script&gt;</code>
                <code>&lt;script src="script.js" defer="defer">&lt;/script&gt;</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>Загрузка страницы</h2>
        <div>
            <pre>
                <code>DNS LOOKUP</code>
                <code>СОЕДИНЕНИЕ, ОТПРАВКА ЗАПРОСА, ОЖИДАНИЕ И ПОЛУЧЕНИЕ ОТВЕТА</code>
                <code>ПАРСИНГ HTML И ПОСТРОЕНИЕ DOM</code>
                <code>ЗАГРУЗКА БЛОКИРУЮЩИХ РЕСУРСОВ</code>
                <code>СОБЫТИЕ <mark class="important">DOMContentLoaded</mark></code>
                <code>ДОЗАГРУЗКА ОСТАВШИХСЯ РЕСУРСОВ</code>
                <code>СОБЫТИЕ <mark class="important">load</mark></code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>Индикатор загрузки</h2>
        <div>
            <pre>
                <code>&lt;style&gt;</code>
                <code>    <mark class="comment">/* Loader styles */</mark></code>
                <code>&lt;/style&gt;</code>
                <code>&lt;div id="loader"/&gt;</code>
                <code>&lt;link rel="stylesheet" href="main.css"/&gt;</code>
                <code>&lt;script src="main.js"&gt;&lt;/script&gt;</code>
            </pre>
        </div>
    </section>

    <section class="slide shout">
        <h2>Оптимизация загрузки</h2>
    </section>

    <section class="slide">
        <h2>Запрос HTTP(S)</h2>
        <div>
            <pre>
                <code>DNS LOOKUP</code>
                <code>TCP SLOW-START</code>
                <code>SSL HANDSHAKE</code>
                <code>ОТПРАВКА ДАННЫХ</code>
                <code>ОЖИДАНИЕ ДАННЫХ</code>
                <code>ЗАГРУЗКА ДАННЫХ</code>
                <code>ОБРАБОТКА ДАННЫХ</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>DNS Time-to-live (TTL)</h2>
        <div>
            <pre>
                <code><s>DNS LOOKUP</s></code>
                <code>TCP SLOW-START</code>
                <code>SSL HANDSHAKE</code>
                <code>ОТПРАВКА ДАННЫХ</code>
                <code>ОЖИДАНИЕ ДАННЫХ</code>
                <code>ЗАГРУЗКА ДАННЫХ</code>
                <code>ОБРАБОТКА ДАННЫХ</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>Connection: Keep-Alive</h2>
        <div>
            <pre>
                <code><s>DNS LOOKUP</s></code>
                <code><s>TCP SLOW-START</s></code>
                <code><s>SSL HANDSHAKE</s></code>
                <code>ОТПРАВКА ДАННЫХ</code>
                <code>ОЖИДАНИЕ ДАННЫХ</code>
                <code>ЗАГРУЗКА ДАННЫХ</code>
                <code>ОБРАБОТКА ДАННЫХ</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>Connection: Keep-Alive</h2>
        <div>
            <pre>
                <code>GET / HTTP/1.1</code>
                <code>Host: mail.ru</code>
                <code>Accept: text/html,application/xhtml+xml,…</code>
                <code><mark class="important">Connection: keep-alive</mark></code>
                <code>Accept-Encoding: gzip,deflate,sdch</code>
                <code>Accept-Language: en-US,en;q=0.8,ru;q=0.6</code>
                <code>User-Agent: Mozilla/5.0 … Safari/537.36</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>Connection: close</h2>
        <div>
            <pre>
                <code>HTTP/1.1 200 OK</code>
                <code>Date: Sun, 16 Feb 2014 22:09:34 GMT</code>
                <code>Server: Apache/1.3.27 (Unix) …</code>
                <code>Content-Encoding: gzip</code>
                <code><mark class="important">Connection: close</mark></code>
                <code>Cache-Control: no-cache,no-store,must-revalidate</code>
                <code>…</code>
            </pre>
        </div>
    </div></section>

    <section class="slide">
        <h2>Сжатие данных</h2>
        <div>
            <pre>
                <code><mark class="comment">DNS LOOKUP</mark></code>
                <code><mark class="comment">TCP SLOW-START</mark></code>
                <code><mark class="comment">SSL HANDSHAKE</mark></code>
                <code>ОТПРАВКА ДАННЫХ</code>
                <code>ОЖИДАНИЕ ДАННЫХ</code>
                <code><s>ЗАГРУЗКА ДАННЫХ</s></code>
                <code>ОБРАБОТКА ДАННЫХ</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>Сжатие данных</h2>
        <div>
            <pre>
                <code>GET / HTTP/1.1</code>
                <code>Host: mail.ru</code>
                <code>Accept: text/html,application/xhtml+xml,…</code>
                <code>Connection: keep-alive</code>
                <code><mark class="important">Accept-Encoding: gzip,deflate,sdch</mark></code>
                <code>Accept-Language: en-US,en;q=0.8,ru;q=0.6</code>
                <code>User-Agent: Mozilla/5.0 … Safari/537.36</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>Сжатие данных</h2>
        <div>
            <pre>
                <code>HTTP/1.1 200 OK</code>
                <code>Date: Sun, 16 Feb 2014 22:09:34 GMT</code>
                <code>Server: Apache/1.3.27 (Unix) …</code>
                <code><mark class="important">Content-Encoding: gzip</mark></code>
                <code>Connection: close</code>
                <code>Cache-Control: no-cache,no-store,must-revalidate</code>
                <code>…</code>
            </pre>
        </div>
    </div></section>

    <section class="slide">
        <h2>Кэширование (Expires)</h2>
        <div>
            <pre>
                <code><s>DNS LOOKUP</s></code>
                <code><s>TCP SLOW-START</s></code>
                <code><s>SSL HANDSHAKE</s></code>
                <code><s>ОТПРАВКА ДАННЫХ</s></code>
                <code><s>ОЖИДАНИЕ ДАННЫХ</s></code>
                <code><s>ЗАГРУЗКА ДАННЫХ</s> (СЧИТЫВАНИЕ ИЗ КЕША)</code>
                <code>ОБРАБОТКА ДАННЫХ</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>Кэширование (Expires)</h2>
        <div>
            <pre>
                <code>HTTP/1.1 200 OK</code>
                <code>Date: Sun, 16 Feb 2014 22:09:34 GMT</code>
                <code>Server: Apache/1.3.27 (Unix) …</code>
                <code>Content-Encoding: gzip</code>
                <code><mark class="important">Cache-Control: max-age=315360000</mark></code>
                <code><mark class="important">Expires: Sun Apr 06 2014 14:20:00 GMT</mark></code>
                <code>…</code>
            </pre>
        </div>
    </div></section>

    <section class="slide">
        <h2>Кэширование (IMS/INM)</h2>
        <div>
            <pre>
                <code><mark class="comment">DNS LOOKUP</mark></code>
                <code><mark class="comment">TCP SLOW-START</mark></code>
                <code><mark class="comment">SSL HANDSHAKE</mark></code>
                <code>ОТПРАВКА ДАННЫХ</code>
                <code>ОЖИДАНИЕ ДАННЫХ</code>
                <code><s>ЗАГРУЗКА ДАННЫХ</s> (СЧИТЫВАНИЕ ИЗ КЕША)</code>
                <code>ОБРАБОТКА ДАННЫХ</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>Кэширование (Last-Modified)</h2>
        <div>
            <pre>
                <code>HTTP/1.1 200 OK</code>
                <code>Date: Sun, 16 Feb 2014 22:09:34 GMT</code>
                <code>Server: Apache/1.3.27 (Unix) …</code>
                <code>Content-Encoding: gzip</code>
                <code><mark class="important">Last-Modified: Fri, 14 Mar 2014 13:08:29 GMT</mark></code>
                <code>…</code>
            </pre>
        </div>
    </div></section>

    <section class="slide">
        <h2>Кэширование (Last-Modified)</h2>
        <div>
            <pre>
                <code>GET / HTTP/1.1</code>
                <code>Host: mail.ru</code>
                <code>User-Agent: Mozilla/5.0 … Safari/537.36</code>
                <code><mark class="important">If-Modified-Since: Fri, 14 Mar 2014 13:08:29 GMT</mark></code>
                <code>…</code>
            </pre>
            <pre>
                <code>200 OK ИЛИ 304 NOT MODIFIED</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>Кэширование (ETag)</h2>
        <div>
            <pre>
                <code>HTTP/1.1 200 OK</code>
                <code>Date: Sun, 16 Feb 2014 22:09:34 GMT</code>
                <code>Server: Apache/1.3.27 (Unix) …</code>
                <code>Content-Encoding: gzip</code>
                <code><mark class="important">ETag: "533c10bd-25f0c"</mark></code>
                <code>…</code>
            </pre>
        </div>
    </div></section>

    <section class="slide">
        <h2>Кэширование (ETag)</h2>
        <div>
            <pre>
                <code>GET / HTTP/1.1</code>
                <code>Host: mail.ru</code>
                <code>User-Agent: Mozilla/5.0 … Safari/537.36</code>
                <code><mark class="important">If-None-Match: "533c10bd-25f0c"</mark></code>
                <code>…</code>
            </pre>
            <pre>
                <code>200 OK ИЛИ 304 NOT MODIFIED</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>Кэширование (No-Cache)</h2>
        <div>
            <pre>
                <code>HTTP/1.1 200 OK</code>
                <code>Date: Sun, 16 Feb 2014 22:09:34 GMT</code>
                <code>Server: Apache/1.3.27 (Unix) …</code>
                <code>Content-Encoding: gzip</code>
                <code><mark class="important">Cache-Control: no-cache,no-store,must-revalidate</mark></code>
                <code>…</code>
            </pre>
        </div>
    </div></section>

    <section class="slide">
        <h2>Последовательная загрузка</h2>
        <div>
            <pre>
                <code>&lt;img src="http://example.com/image1.png" /&gt;</code>
                <code>&lt;img src="http://example.com/image2.png" /&gt;</code>
                <code>&lt;img src="http://example.com/image3.png" /&gt;</code>
                <code>&lt;img src="http://example.com/image4.png" /&gt;</code>
                <code><mark class="comment">&lt;img src="http://example.com/image5.png" /&gt;</mark></code>
                <code><mark class="comment">&lt;img src="http://example.com/image6.png" /&gt;</mark></code>
                <code><mark class="comment">&lt;img src="http://example.com/image7.png" /&gt;</mark></code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>Последовательная загрузка</h2>
        <div>
            <pre>
                <code>&lt;img src="http://example.com/image1.png" /&gt;</code>
                <code><s>&lt;img src="http://example.com/image2.png" /&gt;</s></code>
                <code>&lt;img src="http://example.com/image3.png" /&gt;</code>
                <code>&lt;img src="http://example.com/image4.png" /&gt;</code>
                <code>&lt;img src="http://example.com/image5.png" /&gt;</code>
                <code><mark class="comment">&lt;img src="http://example.com/image6.png" /&gt;</mark></code>
                <code><mark class="comment">&lt;img src="http://example.com/image7.png" /&gt;</mark></code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>Последовательная загрузка</h2>
        <div>
            <pre>
                <code><s>&lt;img src="http://example.com/image1.png" /&gt;</s></code>
                <code><s>&lt;img src="http://example.com/image2.png" /&gt;</s></code>
                <code>&lt;img src="http://example.com/image3.png" /&gt;</code>
                <code>&lt;img src="http://example.com/image4.png" /&gt;</code>
                <code>&lt;img src="http://example.com/image5.png" /&gt;</code>
                <code>&lt;img src="http://example.com/image6.png" /&gt;</code>
                <code><mark class="comment">&lt;img src="http://example.com/image7.png" /&gt;</mark></code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>Последовательная загрузка</h2>
        <div>
            <pre>
                <code><s>&lt;img src="http://example.com/image1.png" /&gt;</s></code>
                <code><s>&lt;img src="http://example.com/image2.png" /&gt;</s></code>
                <code>&lt;img src="http://example.com/image3.png" /&gt;</code>
                <code>&lt;img src="http://example.com/image4.png" /&gt;</code>
                <code><s>&lt;img src="http://example.com/image5.png" /&gt;</s></code>
                <code>&lt;img src="http://example.com/image6.png" /&gt;</code>
                <code>&lt;img src="http://example.com/image7.png" /&gt;</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>Паралельная загрузка</h2>
        <div>
            <pre>
                <code>&lt;img src="http://<mark class="important">i1.</mark>example.com/image1.png" /&gt;</code>
                <code>&lt;img src="http://<mark class="important">i1.</mark>example.com/image2.png" /&gt;</code>
                <code>&lt;img src="http://<mark class="important">i1.</mark>example.com/image3.png" /&gt;</code>
                <code>&lt;img src="http://<mark class="important">i1.</mark>example.com/image4.png" /&gt;</code>
                <code>&lt;img src="http://<mark class="important">i2.</mark>example.com/image5.png" /&gt;</code>
                <code>&lt;img src="http://<mark class="important">i2.</mark>example.com/image6.png" /&gt;</code>
                <code>&lt;img src="http://<mark class="important">i2.</mark>example.com/image7.png" /&gt;</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>Cookies-less</h2>
        <div>
            <pre>
                <code>Set-Cookie: name=value; domain=.example.com; path=/</code>
            </pre>
            <pre>
                <code>&lt;link href="http://<mark class="important">static-example</mark>.com/styles.css"</code>
                <code>    rel="stylesheet" /&gt;</code>
                <code>&lt;script src="http://<mark class="important">static-example</mark>.com/script.js"&gt;</code>
                <code>&lt;/script&gt;</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>Объединение ресурсов</h2>
        <div>
            <pre>
                <code>&lt;script src="http://example.com/script1.js"&gt;&lt;/script&gt;</code>
                <code>&lt;script src="http://example.com/script2.js"&gt;&lt;/script&gt;</code>
            </pre>
            <p>VS.</p>
            <pre>
                <code>&lt;script src="http://example.com/scripts.js"&gt;&lt;/script&gt;</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>Уменьшение размера ресурсов</h2>
        <div>
            <pre>
                <code>&lt;script src="http://example.com/jquery.js"&gt;&lt;/script&gt;</code>
                <code><mark class="comment">&lt;!-- 239 KB / Source --&gt;</mark></code>
                <div class="next">
                    <code>&lt;script src="http://example.com/jquery.min.js"&gt;&lt;/script&gt;</code>
                    <code><mark class="comment">&lt;!-- 81.7 KB / Minified --&gt;</mark></code>
                </div>
                <div class="next">
                    <code>&lt;script src="http://example.com/jquery.js.gz"&gt;&lt;/script&gt;</code>
                    <code><mark class="comment">&lt;!-- 86.7 KB / Source + GZip--&gt;</mark></code>
                </div>
                <div class="next">
                    <code>&lt;script src="http://example.com/jquery.min.js.gz"&gt;&lt;/script&gt;</code>
                    <code><mark class="comment">&lt;!-- 33.7 KB / Minified + GZip --&gt;</mark></code>
                </div>
            </pre>
        </div>
    </section>

    <section class="slide cover h bright">
        <div>
            <img src="/pics/main-tabs.png" alt="" />
        </div>
    </section>

    <section class="slide">
        <h2>Lazy Loading</h2>
        <div>
            <pre>
                <code>&lt;link rel="stylesheet" href="main.css"/&gt;</code>
                <code>&lt;script src="main.js"&gt;&lt;/script&gt;</code>
                <code>&lt;div id="tabs"&gt;…&lt;/div&gt;</code>
                <code>&lt;script&gt;initTabs();&lt;/script&gt;</code>
                <code>&lt;link rel="stylesheet" href="extra.css"/&gt;</code>
                <code>&lt;script src="extra.js"&gt;&lt;/script&gt;</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>Предзагрузка картинок</h2>
        <div>
            <pre>
                <code>new Image().src = 'http://domain.com/image1.png';</code>
                <code>new Image().src = 'http://domain.com/image2.png';</code>
            </pre>
            <pre class="next">
                <code>var img = new Image();</code>
                <code>img.src = 'http://domain.com/image3.png';</code>
                <code>img.onload = function () {};</code>
                <code>img.onerror = function () {};</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>Консистентность</h2>
        <div>
            <figure>
                <blockquote>
                    <p><strong>Согласованность данных</strong> (иногда <strong>консистентность данных</strong>, англ. data consistency) в информатике — это согласованность данных друг с другом, целостность данных, а также внутренняя непротиворечивость.</p>
                </blockquote>
                <figcaption><a href="http://ru.wikipedia.org/wiki/%D0%A1%D0%BE%D0%B3%D0%BB%D0%B0%D1%81%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D0%BE%D1%81%D1%82%D1%8C_%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85">Википедия</a></figcaption>
            </figure>
        </div>
    </section>

    <section class="slide">
        <h2>Консистентность</h2>
        <div>
            <p>СООТВЕТСТВИЕ ВЕРСИИ РЕСУРСОВ ВЕРСИИ ДОКУМЕНТА.</p>
            <pre>
                <code>&lt;link href="/v1/styles.css" rel="stylesheet"/&gt;</code>
                <code>&lt;script src="/v1/script.js">&lt;/script&gt;</code>
             </pre>
            <pre>
                <code>&lt;link href="/v2/styles.css" rel="stylesheet"/&gt;</code>
                <code>&lt;script src="/v2/script.js">&lt;/script&gt;</code>
             </pre>
        </div>
    </section>

    <section class="slide shout">
        <h2>Оптимизации в JavaScript</h2>
    </section>

    <section class="slide">
        <h2><a href="http://jsperf.com/dom-for">Работа с DOM</a></h2>
        <div>
            <pre>
                <code>for (var i = 0;</code>
                <code>     i &lt; document.getElementsByTagName('div').length;</code>
                <code>     i++) {</code>
                <code>  document.getElementsByTagName('div')[i].innerHTML = i;</code>
                <code>}</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2><a href="http://jsperf.com/dom-for">Работа с DOM</a></h2>
        <div>
            <pre>
                <code>for (var i = 0,</code>
                <code>         l = document.getElementsByTagName('div').length;</code>
                <code>     i &lt; l;</code>
                <code>     i++) {</code>
                <code>  document.getElementsByTagName('div')[i].innerHTML = i;</code>
                <code>}</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2><a href="http://jsperf.com/dom-for">Работа с DOM</a></h2>
        <div>
            <pre>
                <code>var nodes = document.getElementsByTagName('div');</code>
                <code>for (var i = 0,</code>
                <code>         l = nodes.length;</code>
                <code>     i &lt; l;</code>
                <code>     i++) {</code>
                <code>  nodes[i].innerHTML = i;</code>
                <code>}</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2><a href="http://jsperf.com/hash-vs-constructor">Hash vs. Constructor</a></h2>
        <div>
            <pre>
                <code>var foo = {</code>
                <code>  a: 'a',</code>
                <code>  b: 'b'</code>
                <code>};</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2><a href="http://jsperf.com/hash-vs-constructor">Hash vs. Constructor</a></h2>
        <div>
            <pre>
                <code>function Foo() {</code>
                <code>  this.a = 'a';</code>
                <code>  this.b = 'b';</code>
                <code>}</code>
                <code>var foo = new Foo();</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2><a href="http://jsperf.com/each-vs-plain">Scope vs. Closure</a></h2>
        <div>
            <pre>
                <code>var a = 'b';</code>
                <code>a = 'c';</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2><a href="http://jsperf.com/each-vs-plain">Scope vs. Closure</a></h2>
        <div>
            <pre>
                <code>var a = 'b';</code>
                <code>function c() {</code>
                <code>  a = 'c';</code>
                <code>}</code>
                <code>c();</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2><a href="http://jsperf.com/tp-reflow">Reflow</a></h2>
        <div>
            <pre>
                <code>var one = document.getElementById('one'),</code>
                <code>    two = document.getElementById('two'),</code>
                <code>    width = 0, text;</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2><a href="http://jsperf.com/tp-reflow">Reflow</a></h2>
        <div>
            <pre>
                <code>text = Math.random();</code>
                <code>one.innerHTML = text;</code>
                <code>width += one.clientWidth;</code>
                <code> </code>
                <code>two.innerHTML = text;</code>
                <code>width += two.clientWidth;</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2><a href="http://jsperf.com/tp-reflow">Reflow</a></h2>
        <div>
            <pre>
                <code>text = Math.random();</code>
                <code>one.innerHTML = text;</code>
                <code>two.innerHTML = text;</code>
                <code> </code>
                <code>width += one.clientWidth;</code>
                <code>width += two.clientWidth;</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>Position vs. Transform</h2>
        <div>
            <pre>
                <code>-webkit-transform: *;</code>
                <code>-webkit-transition: </code>
                <code>    -webkit-transform 3s linear</code>
                <code>;</code>
            </pre>
        </div>
        <div>
            <a href="/d/animate.html">ДЕМОНСТРАЦИЯ</a>.
        </div>
    </section>

    <section class="slide">
        <h2><code>Обновляем npm</code></h2>
        <div>
            <pre>
                <code>$ sudo npm cache clean -f</code>
                <code>$ sudo npm install -g n</code>
                <code>$ sudo n stable</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2><code>Сборка проекта</code></h2>
        <div>
            <p>Require.js</p>
            <pre>
                <code>$ npm install grunt-contrib-requirejs --save-dev</code>
            </pre>
            <p>Конкатенация файлов</p>
            <pre>
                <code>$ npm install grunt-contrib-concat --save-dev</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2><code>grunt-contrib-requirejs</code></h2>
        <div>
            <pre>
                <code>almond: true,</code>
                <code>baseUrl: "public/js",</code>
                <code>mainConfigFile: "public/js/main.js",</code>
                <code>name: "main",</code>
                <code>optimize: "none",</code>
                <code>out: "public/js/build/main.js"</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2><code>grunt-contrib-uglify</code></h2>
        <div>
            <pre>
                <code>$ npm install grunt-contrib-uglify --save-dev</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>Gruntfile.js</h2>
        <div>
            <pre>
                <code>grunt.initConfig({</code>
                <code>    uglify: { … } <mark class="comment">/* grunt-contrib-uglify */</mark></code>
                <code>});</code>
                <code></code>
                <code>grunt.loadNpmTasks('grunt-contrib-uglify');</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>Gruntfile.js</h2>
        <div>
            <pre>
                <code>grunt.loadNpmTasks('grunt-contrib-requirejs');</code>
                <code>grunt.loadNpmTasks('grunt-contrib-uglify');</code>
                <code>grunt.loadNpmTasks('grunt-contrib-concat');</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>Gruntfile.js</h2>
        <div>
            <pre>
                <code>grunt.registerTask(</code>
                <code>    'build',</code>
                <code>    [</code>
                <code>        'fest', 'requirejs', 'concat', 'uglify'</code>
                <code>    ]</code>
                <code>);</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2><code>grunt-contrib-uglify</code></h2>
        <div>
            <pre>
                <code>js: { <mark class="comment">/* Подзадача */</mark></code>
                <code>    files: {</code>
                <code>        src: ['public/js/build.js'], <mark class="comment">/* имена скриптов */</mark></code>
                <code>        dest: 'public/js/build.min.js' <mark class="comment">/* результирующий файл */</mark></code>
                <code>    }}</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2><code>grunt-contrib-concat</code></h2>
        <div>
            <pre>
                <code>js: { <mark class="comment">/* Подзадача */</mark></code>
                <code>    separator: ';\n',</code>
                <code>    src: ['public/js/lib/almond.js','public/js/build/main.js'], <mark class="comment">/* имена скриптов */</mark></code>
                <code>    dest: 'public/js/build.min.js' <mark class="comment">/* результирующий файл */</mark></code>
                <code>    }</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2><code>artist</code></h2>
        <div>
            <pre>
                <code>$ npm install artist --save</code>
            </pre>
        </div>
    </section>

    <div class="progress"><div></div></div>
    <script src="../../shower/shower.min.js"></script>
</body>
</html>
